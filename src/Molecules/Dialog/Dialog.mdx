import { Meta, Canvas, ArgTypes, Story } from "@storybook/addon-docs/blocks"
import { Dialog } from './Dialog';
import * as DialogStories from './Dialog.stories';

<Meta of={DialogStories} />

# Dialog

The Dialog component is a versatile modal dialog built with Material UI v5 that provides a consistent way to display alerts, forms, confirmations, and other interactive content.

## Features

- **Multiple Sizes**: Choose from 5 different sizes (`xs`, `sm`, `md`, `lg`, `xl`) to fit your content
- **Flexible Actions**: Support for customizable action buttons with different colors and variants
- **Close Button**: Optional close button in the top-right corner for easy dismissal
- **Collapsible**: Option to minimize dialog to title bar only, useful for keeping dialogs accessible but out of the way
- **Scrim Control**: Option to show or hide the background overlay
- **Rich Content**: Support for custom content including forms, inputs, and other components
- **Scrollable**: Automatically handles scrolling for long content
- **Accessibility**: Built-in keyboard navigation and screen reader support via Material UI

## Basic Usage

The simplest dialog requires only `open`, `onClose`, and `title` props. 

**To view the dialog examples:**
1. Click on any story below to open it in the Canvas
2. Use the **Controls** panel to toggle `open` from `false` to `true`
3. The dialog will appear and you can interact with it
4. Use the **Controls** panel to adjust size, actions, close button, and scrim settings


<Canvas of={DialogStories.Default} />

## Collapsible Dialog

Make dialogs collapsible to minimize them to just the title bar, useful for keeping dialogs accessible but out of the way:

<Canvas of={DialogStories.Collapsed} />

## Controls

Both stories include the following configurable controls:

- **Size**: Choose from xs, sm, md, lg, or xl
- **Actions**: Configure action buttons (array of button objects)
- **With Close**: Toggle the close button in the top-right corner
- **Scrim**: Control the background overlay (available for Default story only)

## Props

<ArgTypes of={Dialog} />

## Action Object Interface

The `actions` prop accepts an array of objects with the following structure:

```typescript
interface DialogAction {
  label: string;                    // Button text
  onClick: () => void;              // Click handler
  color?: 'primary' | 'error' | 'secondary' | 'success' | 'info' | 'warning';
  variant?: 'contained' | 'outlined' | 'text';
  disabled?: boolean;               // Whether the button is disabled
}
```

## Examples

### Basic Dialog
```tsx
<Dialog
  open={open}
  onClose={handleClose}
  title="Basic Dialog"
  description="This is a simple dialog with a title and description."
/>
```

### Dialog with Actions
```tsx
<Dialog
  open={open}
  onClose={handleClose}
  title="Confirm Action"
  description="Are you sure you want to proceed?"
  actions={[
    { label: 'Cancel', onClick: handleClose, variant: 'text' },
    { label: 'Confirm', onClick: handleConfirm, variant: 'contained' }
  ]}
/>
```

### Collapsible Dialog
```tsx
<Dialog
  open={open}
  onClose={handleClose}
  title="Collapsible Dialog"
  description="This dialog can be collapsed to show only the title bar."
  collapsible={true}
  defaultCollapsed={true}
  showCloseButton={true}
  actions={[
    { label: 'Cancel', onClick: handleClose, variant: 'text' },
    { label: 'Save', onClick: handleSave, variant: 'contained' }
  ]}
/>
```

## Best Practices

1. **Use appropriate sizes**: Choose the size that best fits your content without excessive white space
2. **Clear button labels**: Use descriptive labels that clearly indicate what will happen
3. **Consistent colors**: Use `error` color for destructive actions, `primary` for main actions
4. **Close button**: Consider adding a close button for non-critical dialogs
5. **Collapsible option**: Use collapsible dialogs for non-blocking notifications or secondary information

## Accessibility

The Dialog component includes built-in accessibility features:

- **Focus management**: Focus is automatically trapped within the dialog
- **Keyboard navigation**: Escape key closes the dialog, Tab cycles through interactive elements
- **Screen reader support**: Proper ARIA labels and roles are automatically applied
- **Color contrast**: Material UI ensures proper color contrast for all variants 