import{i as W,k as H,g as L,r as u,j as e}from"./iframe-BIRbnDU3.js";import{T as K,F as w}from"./FilterList-DQk_jpR0.js";import{I as x}from"./icon-button-DRdewMc3.js";import{S as R}from"./SwapVert-Cd4EJ95H.js";import{S as Q}from"./Search-YWwkS9Z8.js";import{C as M}from"./CalendarViewMonthRounded-DrCYw-Ta.js";import{P as U,S as X,T as Y}from"./Tag-CzebFKrF.js";import{G as P}from"./GroupOutlined-G3aEyYlM.js";import{R as Z}from"./reset-CFHRfRQU.js";import{D as O}from"./detail-select-pending-BAWhZ4lk.js";import{D as V}from"./detail-select-default-DGtq2OIO.js";import{r as $}from"./createSvgIcon-Co9ghxje.js";import{B as T}from"./Badge-BZ6w4LUh.js";import{B as ee}from"./Box-CF8wFioY.js";import{T as te}from"./Typography-Cd3v5_Xb.js";import{S as k}from"./Stack-p8V-8Yyf.js";var v={},E;function ne(){if(E)return v;E=1;var l=W();Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var a=l($()),r=H();return v.default=(0,a.default)((0,r.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),v}var re=ne();const oe=L(re),_=u.createContext(void 0),le=()=>{const l=u.useContext(_);if(!l)throw new Error("useFilterContext must be used within FilterContext.Provider");return l},ae=l=>{var r,c;const a=l??[];return[{content:e.jsxs(ee,{sx:{p:1},children:[e.jsx(te,{children:"All Contact Tab"}),((r=a[0])==null?void 0:r.content)??e.jsx(e.Fragment,{})]})},{content:e.jsxs(k,{sx:{p:1},children:[e.jsx(de,{}),((c=a[1])==null?void 0:c.content)??e.jsx(e.Fragment,{})]})},...a.slice(2).map(d=>({content:d.content?e.jsx(e.Fragment,{children:d.content}):e.jsx(e.Fragment,{})}))]},se=l=>{var r,c,d,g;const a=l??[];return[{label:((r=a[0])==null?void 0:r.label)||"All Contacts",icon:((c=a[0])==null?void 0:c.icon)??e.jsx(M,{})},{label:((d=a[1])==null?void 0:d.label)||"Patients",icon:((g=a[1])==null?void 0:g.icon)??e.jsx(M,{})},...a.slice(2).map(f=>({label:f.label,icon:f.icon??e.jsx(M,{})}))]},ie=({tabs:l,tabPanels:a,selectedFilters:r,selectedSorts:c,openSortMenu:d,reset:g,openDetailSelectSort:f,openDetailSelectFilter:I})=>{const[i,j]=u.useState(r||[]),[p,y]=u.useState(c||[]),[F,C]=u.useState(d||!1),[n,s]=u.useState(g||!1),[t,o]=u.useState(!1),[S,b]=u.useState(f||!1),[z,A]=u.useState(I||{open:!1,index:-1}),B=m=>{j(D=>[...D,{field:m,value:"",filterOption:"contains"}]),A({open:!0,index:i.length}),t&&o(!1)},N={filterSelected:i,setFilterSelected:j,sortSelected:p,setSortSelected:y,setOpenSortMenu:C,openSortMenu:F,handleAddFilter:B,reset:n,setReset:s,openDetailSelectSort:S,openDetailSelectFilter:z,setOpenDetailSelectSort:b,setOpenDetailSelectFilter:A,hide:t,setHide:o},G=m=>{y(D=>[...D,{field:m,order:"ascending"}]),b(!0)},h=i.map(m=>m.field),J=q.filter(m=>!h.includes(m.value));return console.log(n,t,i.length>0||n),e.jsx(_.Provider,{value:N,children:e.jsx(K,{tabs:se(l),tabPanels:ae(a),defaultTab:1,tableControls:e.jsxs(e.Fragment,{children:[i.length>0||n?e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:h.length>0?"info.main":void 0}},onClick:()=>{t?o(!t):(s(!1),o(!0))},children:h.length>0?e.jsx(T,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(w,{})}):e.jsx(w,{})}):e.jsx(O,{availableFilterFields:J,placeholder:"Filter By...",onChangeFilter:B,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:h.length>0?"info.main":void 0}},children:h.length>0?e.jsx(T,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(w,{})}):e.jsx(w,{})})}),p.length===0?e.jsx(O,{availableFilterFields:q,placeholder:"Sort By...",onChangeFilter:G,onClose:()=>{C(!1)},open:F,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:p.length>0?"info.main":void 0}},onClick:()=>{t?o(!t):(s(!1),o(!1))},children:p.length>0?e.jsx(T,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(R,{})}):e.jsx(R,{})})}):e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:p.length>0?"info.main":void 0}},onClick:()=>{o(!t),t&&b(!0)},children:p.length>0?e.jsx(T,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(R,{})}):e.jsx(R,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(oe,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(Q,{})})]})})})},ce=[{label:"is",value:"is"},{label:"is not",value:"is not"},{label:"contains",value:"contains"},{label:"does not contain",value:"does not contain"},{label:"starts with",value:"starts with"},{label:"ends with",value:"ends with"},{label:"is empty",value:"is empty"},{label:"is not empty",value:"is not empty"}],q=[{label:"Name",value:"name",icon:e.jsx(U,{})},{label:"Care Team",value:"care team",icon:e.jsx(P,{})},{label:"Share Team",value:"share team",icon:e.jsx(P,{})},{label:"Journeys",value:"journeys",icon:e.jsx(X,{})},{label:"Tags",value:"tags",icon:e.jsx(Y,{})}],de=()=>{const{filterSelected:l,setFilterSelected:a,sortSelected:r,setSortSelected:c,handleAddFilter:d,reset:g,setReset:f,openDetailSelectSort:I,openDetailSelectFilter:i,hide:j,setOpenDetailSelectSort:p,setOpenDetailSelectFilter:y}=le(),F=l.map(n=>n.field),C=q.filter(n=>!F.includes(n.value));return console.log("===================================="),console.log(i),console.log("===================================="),e.jsxs(k,{sx:{flexDirection:"row",gap:1,alignItems:"center",width:"100%",justifyContent:"space-between",flexWrap:"wrap",display:j?"none":"flex"},children:[e.jsxs(k,{sx:{flexDirection:"row",gap:1,flexWrap:"wrap"},children:[l.map((n,s)=>e.jsx(V,{appearance:"filter",filterOptions:ce,field:n.field,value:{value:n.value.toString(),filterOption:n.filterOption.toString()},onSetFilterOption:t=>{const o=[...l];o[s].filterOption=t,a([...o])},onSetFilterValue:t=>{const o=[...l];o[s].value=t,a([...o])},open:s===(i==null?void 0:i.index)&&(i==null?void 0:i.open),onClose:()=>y(void 0)},s)),r.length>0?e.jsx(V,{appearance:"sort",availableSortFields:q,value:r,onAddSort:n=>{const s=[...r];s.find(t=>t.field===n)||s.push({field:n,order:"ascending"}),c(s)},onChangeSort:(n,s,t)=>{const o=[...r],S=o.findIndex(b=>b.field===t);o[S].field=n},onChangeSortOrder:(n,s)=>{const t=[...r],o=t.findIndex(S=>S.field===n);t[o].order=s,c(t)},onDeleteSort:()=>{c([])},onClose:()=>{p(!1)},open:I}):null,g||l.length>0||r.length>0?e.jsx(O,{placeholder:"Filter By...",availableFilterFields:C,onChangeFilter:d}):null]}),l.length>0||r.length>0?e.jsx(Z,{onClick:()=>{f(!0),a([]),r.length>0&&c([])}}):null]})};ie.__docgenInfo={description:"",methods:[],displayName:"TableTabsFiltersControls",props:{selectedFilters:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; value: string | number | boolean; filterOption: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"value",value:{name:"union",raw:"string | number | boolean",elements:[{name:"string"},{name:"number"},{name:"boolean"}],required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}}],raw:"{ field: string; value: string | number | boolean; filterOption: string }[]"},description:""},selectedSorts:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; order: 'ascending' | 'descending' }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:"'ascending' | 'descending'",elements:[{name:"literal",value:"'ascending'"},{name:"literal",value:"'descending'"}],required:!0}}]}}],raw:"{ field: string; order: 'ascending' | 'descending' }[]"},description:""},openSortMenu:{required:!1,tsType:{name:"boolean"},description:""},tabs:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; icon?: React.ReactElement }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"ReactReactElement",raw:"React.ReactElement",required:!1}}]}}],raw:"{ label: string; icon?: React.ReactElement }[]"},description:""},tabPanels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ content: React.ReactNode }",signature:{properties:[{key:"content",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}}]}}],raw:"{ content: React.ReactNode }[]"},description:""},reset:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectSort:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectFilter:{required:!1,tsType:{name:"signature",type:"object",raw:`{\r
    open: boolean,\r
    index: number\r
}`,signature:{properties:[{key:"open",value:{name:"boolean",required:!0}},{key:"index",value:{name:"number",required:!0}}]}},description:""}}};export{ie as T};
