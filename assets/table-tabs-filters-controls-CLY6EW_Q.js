import{i as W,k as H,g as L,r as u,j as e}from"./iframe-BOEgomFY.js";import{T as K,F as w}from"./FilterList-BB3eg-vD.js";import{I as x}from"./icon-button-8VCGKj0p.js";import{S as R}from"./SwapVert-BwgJ_U4F.js";import{S as Q}from"./Search-eKZwCbhx.js";import{C as M}from"./CalendarViewMonthRounded-BJKsnHZr.js";import{P as U,S as X,T as Y}from"./Tag-B6UNhHpC.js";import{G as P}from"./GroupOutlined-D0jhcqgU.js";import{R as Z}from"./reset-C-immKE0.js";import{D as O}from"./detail-select-pending-BeJCmFog.js";import{D as V}from"./detail-select-default-l5G3JsfX.js";import{r as $}from"./createSvgIcon-LsRAuJTe.js";import{B as T}from"./Badge-CctqCfSM.js";import{B as ee}from"./Box-CK-R1Q0_.js";import{T as te}from"./Typography-CgdaMjzI.js";import{S as k}from"./Stack-Cc11et4g.js";var v={},E;function ne(){if(E)return v;E=1;var a=W();Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var l=a($()),r=H();return v.default=(0,l.default)((0,r.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),v}var re=ne();const oe=L(re),_=u.createContext(void 0),ae=()=>{const a=u.useContext(_);if(!a)throw new Error("useFilterContext must be used within FilterContext.Provider");return a},le=a=>{var r,i;const l=a??[];return[{content:e.jsxs(ee,{sx:{p:1},children:[e.jsx(te,{children:"All Contact Tab"}),((r=l[0])==null?void 0:r.content)??e.jsx(e.Fragment,{})]})},{content:e.jsxs(k,{sx:{p:1},children:[e.jsx(de,{}),((i=l[1])==null?void 0:i.content)??e.jsx(e.Fragment,{})]})},...l.slice(2).map(d=>({content:d.content?e.jsx(e.Fragment,{children:d.content}):e.jsx(e.Fragment,{})}))]},se=a=>{var r,i,d,f;const l=a??[];return[{label:((r=l[0])==null?void 0:r.label)||"All Contacts",icon:((i=l[0])==null?void 0:i.icon)??e.jsx(M,{})},{label:((d=l[1])==null?void 0:d.label)||"Patients",icon:((f=l[1])==null?void 0:f.icon)??e.jsx(M,{})},...l.slice(2).map(g=>({label:g.label,icon:g.icon??e.jsx(M,{})}))]},ie=({tabs:a,tabPanels:l,selectedFilters:r,selectedSorts:i,openSortMenu:d,reset:f,openDetailSelectSort:g,openDetailSelectFilter:I})=>{const[c,j]=u.useState(r||[]),[p,y]=u.useState(i||[]),[F,C]=u.useState(d||!1),[n,s]=u.useState(f||!1),[t,o]=u.useState(!1),[S,b]=u.useState(g||!1),[z,A]=u.useState(I||{open:!1,index:-1}),B=m=>{j(D=>[...D,{field:m,value:"",filterOption:"contains"}]),A({open:!0,index:c.length}),t&&o(!1)},N={filterSelected:c,setFilterSelected:j,sortSelected:p,setSortSelected:y,setOpenSortMenu:C,openSortMenu:F,handleAddFilter:B,reset:n,setReset:s,openDetailSelectSort:S,openDetailSelectFilter:z,setOpenDetailSelectSort:b,setOpenDetailSelectFilter:A,hide:t,setHide:o},G=m=>{y(D=>[...D,{field:m,order:"ascending"}]),b(!0)},h=c.map(m=>m.field),J=q.filter(m=>!h.includes(m.value));return console.log(n,t,c.length>0||n),e.jsx(_.Provider,{value:N,children:e.jsx(K,{tabs:se(a),tabPanels:le(l),defaultTab:1,tableControls:e.jsxs(e.Fragment,{children:[c.length>0||n?e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:h.length>0?"info.main":void 0}},onClick:()=>{t?o(!t):(s(!1),o(!0))},children:h.length>0?e.jsx(T,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(w,{})}):e.jsx(w,{})}):e.jsx(O,{availableFilterFields:J,placeholder:"Filter By...",onChangeFilter:B,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:h.length>0?"info.main":void 0}},children:h.length>0?e.jsx(T,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(w,{})}):e.jsx(w,{})})}),p.length===0?e.jsx(O,{availableFilterFields:q,placeholder:"Sort By...",onChangeFilter:G,onClose:()=>{C(!1)},open:F,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:p.length>0?"info.main":void 0}},onClick:()=>{t?o(!t):(s(!1),o(!1))},children:p.length>0?e.jsx(T,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(R,{})}):e.jsx(R,{})})}):e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:p.length>0?"info.main":void 0}},onClick:()=>{o(!t),t&&b(!0)},children:p.length>0?e.jsx(T,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(R,{})}):e.jsx(R,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(oe,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(Q,{})})]})})})},ce=[{label:"is",value:"is"},{label:"is not",value:"is not"},{label:"contains",value:"contains"},{label:"does not contain",value:"does not contain"},{label:"starts with",value:"starts with"},{label:"ends with",value:"ends with"},{label:"is empty",value:"is empty"},{label:"is not empty",value:"is not empty"}],q=[{label:"Name",value:"name",icon:e.jsx(U,{})},{label:"Care Team",value:"care team",icon:e.jsx(P,{})},{label:"Share Team",value:"share team",icon:e.jsx(P,{})},{label:"Journeys",value:"journeys",icon:e.jsx(X,{})},{label:"Tags",value:"tags",icon:e.jsx(Y,{})}],de=()=>{const{filterSelected:a,setFilterSelected:l,sortSelected:r,setSortSelected:i,handleAddFilter:d,reset:f,setReset:g,openDetailSelectSort:I,openDetailSelectFilter:c,hide:j,setOpenDetailSelectSort:p,setOpenDetailSelectFilter:y}=ae(),F=a.map(n=>n.field),C=q.filter(n=>!F.includes(n.value));return e.jsxs(k,{sx:{flexDirection:"row",gap:1,alignItems:"center",width:"100%",justifyContent:"space-between",flexWrap:"wrap",display:j?"none":"flex"},children:[e.jsxs(k,{sx:{flexDirection:"row",gap:1,flexWrap:"wrap"},children:[r.length>0?e.jsx(V,{appearance:"sort",availableSortFields:q,value:r,onAddSort:n=>{const s=[...r];s.find(t=>t.field===n)||s.push({field:n,order:"ascending"}),i(s)},onChangeSort:(n,s,t)=>{const o=[...r],S=o.findIndex(b=>b.field===t);o[S].field=n},onChangeSortOrder:(n,s)=>{const t=[...r],o=t.findIndex(S=>S.field===n);t[o].order=s,i(t)},onDeleteSort:()=>{i([])},onClose:()=>{p(!1)},open:I}):null,a.map((n,s)=>e.jsx(V,{appearance:"filter",filterOptions:ce,field:n.field,value:{value:n.value.toString(),filterOption:n.filterOption.toString()},onSetFilterOption:t=>{const o=[...a];o[s].filterOption=t,l([...o])},onSetFilterValue:t=>{const o=[...a];o[s].value=t,l([...o])},open:s===(c==null?void 0:c.index)&&(c==null?void 0:c.open),onClose:()=>y(void 0)},s)),f||a.length>0||r.length>0?e.jsx(O,{placeholder:"Filter By...",availableFilterFields:C,onChangeFilter:d}):null]}),a.length>0||r.length>0?e.jsx(Z,{onClick:()=>{g(!0),l([]),r.length>0&&i([])}}):null]})};ie.__docgenInfo={description:"",methods:[],displayName:"TableTabsFiltersControls",props:{selectedFilters:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; value: string | number | boolean; filterOption: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"value",value:{name:"union",raw:"string | number | boolean",elements:[{name:"string"},{name:"number"},{name:"boolean"}],required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}}],raw:"{ field: string; value: string | number | boolean; filterOption: string }[]"},description:""},selectedSorts:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; order: 'ascending' | 'descending' }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:"'ascending' | 'descending'",elements:[{name:"literal",value:"'ascending'"},{name:"literal",value:"'descending'"}],required:!0}}]}}],raw:"{ field: string; order: 'ascending' | 'descending' }[]"},description:""},openSortMenu:{required:!1,tsType:{name:"boolean"},description:""},tabs:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; icon?: React.ReactElement }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"ReactReactElement",raw:"React.ReactElement",required:!1}}]}}],raw:"{ label: string; icon?: React.ReactElement }[]"},description:""},tabPanels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ content: React.ReactNode }",signature:{properties:[{key:"content",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}}]}}],raw:"{ content: React.ReactNode }[]"},description:""},reset:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectSort:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectFilter:{required:!1,tsType:{name:"signature",type:"object",raw:`{\r
    open: boolean,\r
    index: number\r
}`,signature:{properties:[{key:"open",value:{name:"boolean",required:!0}},{key:"index",value:{name:"number",required:!0}}]}},description:""}}};export{ie as T};
