import{i as $,k as Q,g as Y,j as e,r as n}from"./iframe-CQw1bh_3.js";import{B as _}from"./button-CAdJMI0n.js";import{K as U,T as M}from"./tiny-select-jhcVnHcm.js";import{I as A}from"./input-Dwkb1V7Z.js";import{r as Z}from"./createSvgIcon-D0mVd8bh.js";import{A as ee}from"./Add-7ajpCmci.js";import{D as te}from"./Delete-CADfuXDF.js";import{S as re}from"./SwapVert-XAQecXkL.js";import{B as q}from"./Box-1eo89r2K.js";import{B as ne}from"./Badge-DthidrpL.js";import{T as b}from"./Typography-CETEvHWw.js";import{M as P,c as J}from"./Select-BZlqZEy6.js";import{P as N}from"./Paper-DoXoRAIi.js";import{M as v}from"./MenuItem-DUOQhvfP.js";import{L as I,P as oe,S as ae,T as ie}from"./Tag-Dq3HYyOV.js";import{L as w}from"./ListItemText-Bt3hA59g.js";import{S as se}from"./Stack-DJd1T9w_.js";import{L as le}from"./ListSubheader-BA4AZaZ9.js";import{G as E}from"./GroupOutlined-CT3Jt_wo.js";import"./Button-ZrOHyzlF.js";import"./styled-0urVwbhR.js";import"./ButtonBase-CawyO1_w.js";import"./useTimeout-CUAEDxbs.js";import"./TransitionGroupContext-ucckMPrU.js";import"./useIsFocusVisible-DCSDlLBr.js";import"./select-BZ7Hd2EU.js";import"./FormControl-BvfGlV5i.js";import"./utils-DoM3o7-Q.js";import"./useFormControl-D7aixEVT.js";import"./isMuiElement-c5mTnCJM.js";import"./Chip-Bhz2nqgH.js";import"./createSvgIcon-CPZXexn_.js";import"./TextField-D7RqfJbV.js";import"./useId-CBKkpWLc.js";import"./createChainedFunction-BO_9K8Jh.js";import"./ownerWindow-DIR61fab.js";import"./useControlled-DKLpkiav.js";import"./usePreviousProps-dxLmDVWK.js";import"./useSlotProps-CC53gLXq.js";import"./resolveComponentProps-BAz9eB7D.js";import"./isHostComponent-DVu5iVWx.js";import"./formControlState-Dq1zat_P.js";import"./List-BRMYBShm.js";import"./Grow-DZ6JOMQo.js";import"./useTheme-CONGIyUh.js";import"./getReactElementRef-BFTcAmDX.js";import"./Modal-B5tUVl_X.js";import"./index-BU1ft_YN.js";import"./index-D7rk0scn.js";import"./InputBase-G_Xq6-VF.js";import"./dividerClasses-Cr81tDjM.js";var O={},k;function de(){if(k)return O;k=1;var t=$();Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var o=t(Z()),l=Q();return O.default=(0,o.default)((0,l.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),O}var ue=de();const ce=Y(ue),F=n.createContext(void 0);function pe({filter:t,setFilter:o,sort:l,setSort:c,availableSortFields:s,filterOptions:p,children:a,defaultOpen:m,...x}){const[i,S]=n.useState(null),[f,g]=n.useState([{field:"name",order:"ascending"}]),y={filter:t!==void 0?t:i,setFilter:o!==void 0?o:S,sort:l!==void 0?l:f,setSort:c!==void 0?c:g,availableSortFields:s,filterOptions:p,defaultOpen:m,...x};return e.jsx(F.Provider,{value:y,children:a})}function z({appearance:t="sort",...o}){return e.jsx(pe,{...o,children:e.jsx(q,{sx:{display:"flex",flexDirection:"column",width:240,gap:1},children:e.jsx(me,{appearance:t})})})}const me=({appearance:t="sort"})=>t==="filter"?e.jsx(Se,{}):e.jsx(ge,{}),L={sx:{maxHeight:"233px !important","& .MuiTypography-root":{fontSize:"0.875rem"},"& .MuiListItemIcon-root":{minWidth:"28px !important",svg:{width:"20px"}},"& .MuiButtonBase-root.MuiMenuItem-root ":{borderRadius:"4px"}}},xe={padding:0,maxHeight:"215px !important","& .MuiTypography-root":{fontSize:"0.875rem"},"& .MuiListItemIcon-root":{minWidth:"28px !important",svg:{width:"20px"}},"& .MuiButtonBase-root.MuiMenuItem-root ":{borderRadius:"4px"},"& .MuiMenuItem-root":{padding:"4px 8px"},"&":{padding:"8px 0"}};function ge(){const{sort:t,setSort:o,defaultOpen:l,onChangeSort:c,onAddSort:s,onDeleteSort:p,onChangeSortOrder:a,availableSortFields:m}=n.useContext(F),[x,i]=n.useState(),[S,f]=n.useState(null),g=d=>i(d.currentTarget),y=()=>i(null),u=d=>f(d.currentTarget),r=()=>f(null),H=(d,h)=>{var C;o(j=>j.map(D=>D.field===h?{...D,field:d}:D)),c==null||c(d,((C=t.find(j=>j.field===h))==null?void 0:C.order)||"ascending")},K=(d,h)=>{o(C=>C.map(j=>j.field===h?{...j,order:d}:j)),a==null||a(h,d)},G=d=>{o(h=>[...h,{field:d,order:"ascending"}]),s==null||s(d),t.length===m.length-1&&r()},X=()=>{o([]),p==null||p()},R=t.map(d=>d.field);return n.useEffect(()=>{const d=document.getElementById("menu-button");l?d&&i(d):i(null)},[l]),e.jsxs(e.Fragment,{children:[e.jsxs(_,{color:"info",id:"menu-button",sx:{backgroundColor:"#0288D114",borderRadius:"16px",display:"inline-flex",alignItems:"center",px:1.5,py:.5,width:"fit-content",textTransform:"capitalize","&:hover":{backgroundColor:"#0288D129"},boxShadow:"none !important"},onClick:g,children:[t.length>1?e.jsx(re,{sx:{fontSize:22,color:"#0288D1"}}):e.jsx(ce,{sx:{fontSize:18,color:"#0288D1"}}),e.jsx(b,{sx:{color:"#0288D1",fontWeight:500,ml:.5},variant:"body2",children:t.length===0?"Value":t.length===1?`${t[0].field}`:`${t.length} Sorts`}),e.jsx(U,{sx:{color:"#0288D1",ml:.5}})]}),e.jsx(P,{anchorEl:x,open:!!x,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:-5,horizontal:"left"},elevation:1,MenuListProps:{sx:{padding:0},"aria-labelledby":"menu-button"},children:e.jsxs(N,{elevation:0,sx:{p:"8px",display:"flex",flexDirection:"column",gap:1,width:220,border:"1px solid #0000001F",borderRadius:"5px"},children:[t.map((d,h)=>e.jsx(he,{index:h,field:d.field,order:d.order,onSetField:H,onSetOrder:K,usedFields:R},h)),e.jsxs(J,{dense:!0,sx:{padding:0,"& .MuiMenuItem-root":{padding:"4px 8px",borderRadius:"4px"}},children:[t.length!==m.length?e.jsxs(v,{onClick:u,sx:{color:"text.disabled"},children:[e.jsx(I,{sx:{color:"text.disabled"},children:e.jsx(ee,{fontSize:"small"})}),e.jsx(w,{children:e.jsx(b,{variant:"body2",children:"Add sort"})})]}):null,t.length>0?e.jsxs(v,{sx:{color:"text.disabled"},onClick:X,disabled:t.length===0,children:[e.jsx(I,{sx:{color:"text.disabled"},children:e.jsx(te,{fontSize:"small"})}),e.jsx(w,{children:e.jsx(b,{variant:"body2",children:"Delete sort"})})]}):null]})]})}),e.jsx(fe,{open:!!S,anchorEl:S,onClose:r,onAddSort:G,usedFields:R})]})}function he({field:t,order:o,onSetField:l,onSetOrder:c,usedFields:s}){const{availableSortFields:p}=n.useContext(F),[a,m]=n.useState(t),[x,i]=n.useState(o);n.useEffect(()=>{m(t),i(o)},[t,o]);const S=r=>{m(r),l(r,a)},f=r=>{i(r),c(r,a)},[g,y]=n.useState("");n.useEffect(()=>{g!==""&&y("")},[]);const u=p.filter(r=>r.label.toLowerCase().includes(g.toLowerCase()));return e.jsxs(q,{sx:{display:"flex",gap:"2px"},children:[e.jsxs(M,{value:a,onChange:S,FormControlProps:{sx:{width:"auto"}},MenuProps:{MenuListProps:{sx:{padding:"8px 0"},autoFocusItem:!1},PaperProps:{sx:{...L.sx,border:"1px solid #0000001F",borderRadius:"5px"},elevation:1}},sx:{fontSize:"12px !important",textTransform:"capitalize"},children:[e.jsx(le,{disableGutters:!0,sx:{lineHeight:"normal"},children:e.jsx(A,{appearance:"distinct",placeholder:"Search For Property",size:"small",sx:{width:"100%","& .MuiInputBase-input":{padding:"4px 8px"}},FormControlProps:{sx:{width:"100%",mb:"4px"}},onKeyDown:r=>{r.stopPropagation()},onChange:r=>y(r.target.value),value:g})}),u.map(r=>s.includes(r.value)?null:e.jsxs(v,{value:r.value,disabled:s.includes(r.value)&&r.value!==t,children:[e.jsx(I,{children:r.icon}),e.jsx(w,{children:r.label})]},r.value)),u.length===0&&e.jsx(v,{disabled:!0,children:e.jsx(w,{children:"No fields found"})})]}),e.jsxs(M,{value:x,onChange:f,FormControlProps:{sx:{width:"auto"}},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:100},PaperProps:{sx:{...L.sx,border:"1px solid #0000001F",borderRadius:"5px"},elevation:1}},sx:{fontSize:"12px !important",width:"88px !important",textTransform:"capitalize"},children:[e.jsx(v,{value:"ascending",children:"Ascending"}),e.jsx(v,{value:"descending",children:"Descending"})]})]})}function fe({open:t,anchorEl:o,onClose:l,onAddSort:c,usedFields:s}){const[p,a]=n.useState(""),{availableSortFields:m}=n.useContext(F),x=m.filter(i=>i.label.toLowerCase().includes(p.toLowerCase()));return e.jsx(P,{open:t,onClose:l,anchorEl:o,MenuListProps:{disablePadding:!0,sx:{px:"4px"}},anchorOrigin:{vertical:"bottom",horizontal:-10},sx:{"& .MuiPaper-root":{width:"220px !important",border:"1px solid #0000001F",borderRadius:"5px"}},elevation:1,disableAutoFocusItem:!0,children:e.jsxs(J,{sx:xe,autoFocusItem:!1,children:[e.jsx(A,{autoFocus:!0,appearance:"distinct",placeholder:"Search For Property",size:"small",sx:{width:"100%","& .MuiInputBase-input":{padding:"4px 8px"}},FormControlProps:{sx:{width:"100%",mb:"4px"}},onKeyDown:i=>{i.stopPropagation()},onChange:i=>a(i.target.value),value:p}),x.map(i=>s.includes(i.value)?null:e.jsxs(v,{onClick:()=>c(i.value),disabled:s.includes(i.value),children:[e.jsx(I,{children:i.icon}),e.jsx(w,{children:i.label})]},i.value)),x.length===0&&e.jsx(v,{disabled:!0,children:e.jsx(w,{children:"No fields found"})})]})})}const ve={sx:{maxHeight:"242px !important","& .MuiTypography-root":{fontSize:"0.875rem"},"& .MuiListItemIcon-root":{minWidth:"28px !important",svg:{width:"20px"}},"& .MuiButtonBase-root.MuiMenuItem-root ":{borderRadius:"4px"}}},Se=()=>{const{filter:t,setFilter:o,defaultOpen:l,OnSetFilterValue:c,OnClearFilter:s,OnSetFilterOption:p}=n.useContext(F),[a,m]=n.useState(null),x=u=>m(u.currentTarget),i=()=>m(null),S=u=>{o(r=>({value:(r==null?void 0:r.value)??"",filterOption:u||"contains"})),p==null||p(u)},[f,g]=n.useState("");n.useEffect(()=>{f!==""&&g("")},[]);const y=u=>{g(u),u===""?(o(null),s==null||s()):(o(r=>({value:u||"",filterOption:(r==null?void 0:r.filterOption)??"contains"})),c==null||c(u))};return n.useEffect(()=>{const u=document.getElementById("menu-button");l?u&&m(u):m(null)},[l]),e.jsxs(e.Fragment,{children:[e.jsx(_,{color:"info",id:"menu-button",sx:{backgroundColor:t!=null&&t.value?"#0288D114":"transparent",borderRadius:"16px",display:"inline-flex",alignItems:"center",px:1.5,py:.5,width:"fit-content",textTransform:"capitalize","&:hover":{backgroundColor:t!=null&&t.value?"#0288D129":"#EEEDF4"},boxShadow:"none !important"},onClick:x,children:e.jsxs(ne,{color:"error",variant:"dot",sx:{alignItems:"center"},children:[e.jsxs(b,{sx:{color:t!=null&&t.value?"#0288D1":"#0000008F",fontWeight:500,ml:.5},variant:"body2",children:[e.jsx(b,{sx:{fontWeight:600,mr:.5,color:t!=null&&t.value?void 0:"#0000008F",fontSize:"0.875rem"},component:"span",children:"Aa"}),e.jsx(b,{sx:{mr:.5,display:"inline-flex",fontSize:"0.875rem"},children:t!=null&&t.filterOption?`${t==null?void 0:t.filterOption} :`:""}),e.jsx(q,{sx:{maxWidth:"50px",display:"inline-flex"},children:e.jsx(b,{sx:{mr:.5,fontSize:"0.875rem",maxWidth:"50px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},component:"span",noWrap:!0,children:(t==null?void 0:t.value)||"Value"})})]}),e.jsx(U,{sx:{color:t!=null&&t.value?"#0288D1":"#0000001F",ml:.5}})]})}),e.jsx(P,{anchorEl:a,open:!!a,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:-5,horizontal:"left"},elevation:1,MenuListProps:{sx:{padding:0}},children:e.jsxs(N,{elevation:0,sx:{p:1,display:"flex",flexDirection:"column",gap:1,width:220,border:"1px solid #0000001F",borderRadius:"5px"},children:[e.jsx(ye,{field:(t==null?void 0:t.filterOption)||"contains",onSetField:S}),e.jsx(A,{appearance:"distinct",placeholder:"Type a value...",size:"small",sx:{width:"100%","& .MuiInputBase-input":{padding:"4px 8px"}},FormControlProps:{sx:{width:"100%"}},onChange:u=>y(u.target.value),value:f})]})})]})};function ye({field:t,onSetField:o}){const{filterOptions:l}=n.useContext(F),[c,s]=n.useState(t);n.useEffect(()=>{s(t)},[t]);const p=a=>{s(a),o(a)};return e.jsxs(se,{sx:{flexDirection:"row",gap:1,alignItems:"center"},children:[e.jsx(b,{sx:{fontSize:"12px",color:"#0000001F"},component:"span",children:"Name"}),e.jsx(M,{value:c,onChange:p,FormControlProps:{sx:{width:"auto"}},MenuProps:{PaperProps:{sx:{...ve.sx,border:"1px solid #0000001F",borderRadius:"5px"},elevation:1}},sx:{fontSize:"12px !important",textTransform:"capitalize",width:"80px !important"},children:l.map(a=>e.jsx(v,{value:a.value,children:e.jsx(w,{sx:{textTransform:"capitalize"},children:a.label})},a.value))})]})}z.__docgenInfo={description:"",methods:[],displayName:"DetailSelect",props:{filter:{required:!1,tsType:{name:"union",raw:"{ value: string; filterOption: string } | null",elements:[{name:"signature",type:"object",raw:"{ value: string; filterOption: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}},{name:"null"}]},description:""},setFilter:{required:!1,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<{ value: string; filterOption: string } | null>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<{ value: string; filterOption: string } | null>",elements:[{name:"union",raw:"{ value: string; filterOption: string } | null",elements:[{name:"signature",type:"object",raw:"{ value: string; filterOption: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}},{name:"null"}]}]}]},description:""},sort:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string, order: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"string",required:!0}}]}}],raw:"SortItem[]"},description:""},setSort:{required:!1,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<SortItem[]>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<SortItem[]>",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string, order: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"string",required:!0}}]}}],raw:"SortItem[]"}]}]},description:""},appearance:{required:!1,tsType:{name:"union",raw:"'sort' | 'filter'",elements:[{name:"literal",value:"'sort'"},{name:"literal",value:"'filter'"}]},description:"",defaultValue:{value:'"sort"',computed:!1}},availableSortFields:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  label: string;\r
  value: string;\r
  icon: JSX.Element;\r
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}},{key:"icon",value:{name:"JSX.Element",required:!0}}]}}],raw:`{\r
  label: string;\r
  value: string;\r
  icon: JSX.Element;\r
}[]`},description:""},filterOptions:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  label: string;\r
  value: string;\r
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}}]}}],raw:`{\r
  label: string;\r
  value: string;\r
}[]`},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:""},onAddSort:{required:!1,tsType:{name:"signature",type:"function",raw:"(field: string) => void",signature:{arguments:[{type:{name:"string"},name:"field"}],return:{name:"void"}}},description:""},onDeleteSort:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChangeSort:{required:!1,tsType:{name:"signature",type:"function",raw:"(field: string, order: string) => void",signature:{arguments:[{type:{name:"string"},name:"field"},{type:{name:"string"},name:"order"}],return:{name:"void"}}},description:""},onChangeSortOrder:{required:!1,tsType:{name:"signature",type:"function",raw:"(field: string, order: string) => void",signature:{arguments:[{type:{name:"string"},name:"field"},{type:{name:"string"},name:"order"}],return:{name:"void"}}},description:""},OnSetFilterOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: string) => void",signature:{arguments:[{type:{name:"string"},name:"option"}],return:{name:"void"}}},description:""},OnSetFilterValue:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},OnClearFilter:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const yt={title:"MOLECULES/Table Elements/Detail Select",component:z,parameters:{controls:{include:["appearance","active","hasValue"]}},argTypes:{hasValue:{control:{type:"boolean"}},active:{control:{type:"boolean"}},appearance:{control:{type:"select",options:["sort","filter"]}}},args:{appearance:"sort",hasValue:!1,active:!1}},be=[{label:"Name",value:"name",icon:e.jsx(oe,{})},{label:"Care Team",value:"care team",icon:e.jsx(E,{})},{label:"Share Team",value:"share team",icon:e.jsx(E,{})},{label:"Journeys",value:"journeys",icon:e.jsx(ae,{})},{label:"Tags",value:"tags",icon:e.jsx(ie,{})}],je=[{label:"is",value:"is"},{label:"is not",value:"is not"},{label:"contains",value:"contains"},{label:"does not contain",value:"does not contain"},{label:"starts with",value:"starts with"},{label:"ends with",value:"ends with"},{label:"is empty",value:"is empty"},{label:"is not empty",value:"is not empty"}],T={render:({appearance:t,active:o,hasValue:l})=>{const[c,s]=n.useState(null),[p,a]=n.useState([{field:"name",order:"ascending"}]);return n.useEffect(()=>{t==="filter"?s(l?{value:"example",filterOption:"contains"}:null):a(l?[{field:"name",order:"ascending"}]:[])},[t,l]),e.jsx(z,{defaultOpen:o,appearance:t,filter:c,setFilter:s,sort:p,setSort:a,availableSortFields:be,filterOptions:je})}};var B,V,W;T.parameters={...T.parameters,docs:{...(B=T.parameters)==null?void 0:B.docs,source:{originalSource:`{
  render: ({
    appearance,
    active,
    hasValue
  }) => {
    const [filter, setFilter] = useState<{
      value: string;
      filterOption: string;
    } | null>(null);
    const [sort, setSort] = useState<{
      field: string;
      order: string;
    }[]>([{
      field: 'name',
      order: 'ascending'
    }]);
    useEffect(() => {
      if (appearance === "filter") {
        if (hasValue) {
          setFilter({
            value: 'example',
            filterOption: 'contains'
          });
        } else {
          setFilter(null);
        }
      } else {
        if (hasValue) {
          setSort([{
            field: 'name',
            order: 'ascending'
          }]);
        } else {
          setSort([]);
        }
      }
    }, [appearance, hasValue]);

    /* \r
        - This methods helps developer make the component more interactive.\r
            - Appearance "Sort"\r
                * onAddSort\r
                * onDeleteSort\r
                * onChangeSort\r
                * onChangeSortOrder\r
            - Appearance "Filter"\r
                * OnSetFilterOption\r
                * OnSetFilterValue\r
                * OnClearFilter\r
    */

    return <DetailSelect defaultOpen={active} appearance={appearance} filter={filter} setFilter={setFilter} sort={sort} setSort={setSort} availableSortFields={availableSortFields} filterOptions={filterOptions}

    // onChangeSort={(field, order) => console.log("Sort changed", { field, order })}
    // onChangeSortOrder={(field, order) => console.log("Sort order changed", { field, order })}
    // onAddSort={(field) => console.log("Sort added", field)}
    // onDeleteSort={() => console.log("All Sortdeleted")}

    // OnSetFilterOption={(option) => console.log("Filter option set", option)}
    // OnSetFilterValue={(value) => console.log("Filter value set", value)}
    // OnClearFilter={() => console.log("Filter cleared")}
    />;
  }
}`,...(W=(V=T.parameters)==null?void 0:V.docs)==null?void 0:W.source}}};const bt=["Default"];export{T as Default,bt as __namedExportsOrder,yt as default};
