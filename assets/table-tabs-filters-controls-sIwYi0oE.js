import{i as W,k as H,g as L,r as u,j as e}from"./iframe-DfEpVtbN.js";import{T as K,F as w}from"./FilterList-2lgyH7FA.js";import{I as x}from"./icon-button-cAuTUsZq.js";import{S as R}from"./SwapVert-Lk4XiiLN.js";import{S as Q}from"./Search-DscVZzAP.js";import{C as M}from"./CalendarViewMonthRounded-DTQnWK0W.js";import{P as U,S as X,T as Y}from"./Tag-BZpHW92b.js";import{G as E}from"./GroupOutlined-CoJRWkZX.js";import{R as Z}from"./reset-C3TEv62R.js";import{D as O}from"./detail-select-pending-BixqrhWp.js";import{D as P}from"./detail-select-default-qZAxqop7.js";import{r as $}from"./createSvgIcon-UJ_-k-8q.js";import{B as q}from"./Badge-CyQxmNgx.js";import{B as ee}from"./Box-DlJbTAuF.js";import{S as k}from"./Stack-CKDPRdOE.js";var h={},V;function te(){if(V)return h;V=1;var a=W();Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var l=a($()),n=H();return h.default=(0,l.default)((0,n.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),h}var ne=te();const re=L(ne),_=u.createContext(void 0),oe=()=>{const a=u.useContext(_);if(!a)throw new Error("useFilterContext must be used within FilterContext.Provider");return a},ae=a=>{var n,i;const l=a??[];return[{content:e.jsx(ee,{sx:{p:1},children:((n=l[0])==null?void 0:n.content)??e.jsx(e.Fragment,{})})},{content:e.jsxs(k,{sx:{p:1},children:[e.jsx(ce,{}),((i=l[1])==null?void 0:i.content)??e.jsx(e.Fragment,{})]})},...l.slice(2).map(p=>({content:p.content?e.jsx(e.Fragment,{children:p.content}):e.jsx(e.Fragment,{})}))]},le=a=>{var n,i,p,f;const l=a??[];return[{label:((n=l[0])==null?void 0:n.label)||"All Contacts",icon:((i=l[0])==null?void 0:i.icon)??e.jsx(M,{})},{label:((p=l[1])==null?void 0:p.label)||"Patients",icon:((f=l[1])==null?void 0:f.icon)??e.jsx(M,{})},...l.slice(2).map(g=>({label:g.label,icon:g.icon??e.jsx(M,{})}))]},se=({tabs:a,tabPanels:l,selectedFilters:n,selectedSorts:i,openSortMenu:p,reset:f,openDetailSelectSort:g,openDetailSelectFilter:T})=>{const[c,j]=u.useState(n||[]),[d,F]=u.useState(i||[]),[y,C]=u.useState(p||!1),[r,s]=u.useState(f||!1),[t,o]=u.useState(!0),[S,b]=u.useState(g||!1),[z,A]=u.useState(T||{open:!1,index:-1}),B=m=>{j(D=>[...D,{field:m,value:"",filterOption:"contains"}]),A({open:!0,index:c.length}),t&&o(!1)},N={filterSelected:c,setFilterSelected:j,sortSelected:d,setSortSelected:F,setOpenSortMenu:C,openSortMenu:y,handleAddFilter:B,reset:r,setReset:s,openDetailSelectSort:S,openDetailSelectFilter:z,setOpenDetailSelectSort:b,setOpenDetailSelectFilter:A,hide:t,setHide:o},G=m=>{F(D=>[...D,{field:m,order:"ascending"}]),b(!0)},v=c.map(m=>m.field),J=I.filter(m=>!v.includes(m.value));return u.useEffect(()=>{t&&d.length>0&&o(!1)},[d.length]),e.jsx(_.Provider,{value:N,children:e.jsx(K,{tabs:le(a),tabPanels:ae(l),defaultTab:1,tableControls:e.jsxs(e.Fragment,{children:[c.length>0||r?e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:v.length>0?"info.main":void 0}},onClick:()=>{t?o(!t):(s(!1),o(!0))},children:v.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(w,{})}):e.jsx(w,{})}):e.jsx(O,{availableFilterFields:J,placeholder:"Filter By...",onChangeFilter:B,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:v.length>0?"info.main":void 0}},children:v.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(w,{})}):e.jsx(w,{})})}),d.length===0?e.jsx(O,{availableFilterFields:I,placeholder:"Sort By...",onChangeFilter:G,onClose:()=>{C(!1)},open:y,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:d.length>0?"info.main":void 0}},onClick:()=>{!t&&r&&(s(!1),o(!0))},children:d.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(R,{})}):e.jsx(R,{})})}):e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:d.length>0?"info.main":void 0}},onClick:()=>{o(!t),t&&b(!0)},children:d.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(R,{})}):e.jsx(R,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(re,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(Q,{})})]})})})},ie=[{label:"is",value:"is"},{label:"is not",value:"is not"},{label:"contains",value:"contains"},{label:"does not contain",value:"does not contain"},{label:"starts with",value:"starts with"},{label:"ends with",value:"ends with"},{label:"is empty",value:"is empty"},{label:"is not empty",value:"is not empty"}],I=[{label:"Name",value:"name",icon:e.jsx(U,{})},{label:"Care Team",value:"care team",icon:e.jsx(E,{})},{label:"Share Team",value:"share team",icon:e.jsx(E,{})},{label:"Journeys",value:"journeys",icon:e.jsx(X,{})},{label:"Tags",value:"tags",icon:e.jsx(Y,{})}],ce=()=>{const{filterSelected:a,setFilterSelected:l,sortSelected:n,setSortSelected:i,handleAddFilter:p,reset:f,setReset:g,openDetailSelectSort:T,openDetailSelectFilter:c,hide:j,setOpenDetailSelectSort:d,setOpenDetailSelectFilter:F}=oe(),y=a.map(r=>r.field),C=I.filter(r=>!y.includes(r.value));return e.jsxs(k,{sx:{flexDirection:"row",gap:1,alignItems:"center",width:"100%",justifyContent:"space-between",flexWrap:"wrap",display:j?"none":"flex"},children:[e.jsxs(k,{sx:{flexDirection:"row",gap:1,flexWrap:"wrap"},children:[n.length>0?e.jsx(P,{appearance:"sort",availableSortFields:I,value:n,onAddSort:r=>{const s=[...n];s.find(t=>t.field===r)||s.push({field:r,order:"ascending"}),i(s)},onChangeSort:(r,s,t)=>{const o=[...n],S=o.findIndex(b=>b.field===t);o[S].field=r},onChangeSortOrder:(r,s)=>{const t=[...n],o=t.findIndex(S=>S.field===r);t[o].order=s,i(t)},onDeleteSort:()=>{i([])},onClose:()=>{d(!1)},open:T}):null,a.map((r,s)=>e.jsx(P,{appearance:"filter",filterOptions:ie,field:r.field,value:{value:r.value.toString(),filterOption:r.filterOption.toString()},onSetFilterOption:t=>{const o=[...a];o[s].filterOption=t,l([...o])},onSetFilterValue:t=>{const o=[...a];o[s].value=t,l([...o])},open:s===(c==null?void 0:c.index)&&(c==null?void 0:c.open),onClose:()=>F(void 0)},s)),f||a.length>0||n.length>0?e.jsx(O,{placeholder:"Filter By...",availableFilterFields:C,onChangeFilter:p}):null]}),a.length>0||n.length>0?e.jsx(Z,{onClick:()=>{g(!0),l([]),n.length>0&&i([])}}):null]})};se.__docgenInfo={description:"",methods:[],displayName:"TableTabsFiltersControls",props:{selectedFilters:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; value: string | number | boolean; filterOption: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"value",value:{name:"union",raw:"string | number | boolean",elements:[{name:"string"},{name:"number"},{name:"boolean"}],required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}}],raw:"{ field: string; value: string | number | boolean; filterOption: string }[]"},description:""},selectedSorts:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; order: 'ascending' | 'descending' }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:"'ascending' | 'descending'",elements:[{name:"literal",value:"'ascending'"},{name:"literal",value:"'descending'"}],required:!0}}]}}],raw:"{ field: string; order: 'ascending' | 'descending' }[]"},description:""},openSortMenu:{required:!1,tsType:{name:"boolean"},description:""},tabs:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; icon?: React.ReactElement }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"ReactReactElement",raw:"React.ReactElement",required:!1}}]}}],raw:"{ label: string; icon?: React.ReactElement }[]"},description:""},tabPanels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ content: React.ReactNode }",signature:{properties:[{key:"content",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}}]}}],raw:"{ content: React.ReactNode }[]"},description:""},reset:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectSort:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectFilter:{required:!1,tsType:{name:"signature",type:"object",raw:`{\r
    open: boolean,\r
    index: number\r
}`,signature:{properties:[{key:"open",value:{name:"boolean",required:!0}},{key:"index",value:{name:"number",required:!0}}]}},description:""}}};export{se as T,oe as u};
