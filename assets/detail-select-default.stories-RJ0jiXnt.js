import{i as J,k as N,g as K,j as e,r as o}from"./iframe-D6WPvDsw.js";import{B as H}from"./button-BMib4S4r.js";import{K as X,T as q}from"./tiny-select-D2asRN4s.js";import{I as A}from"./input-BUbJuK_k.js";import{r as $}from"./createSvgIcon-l15DWx3n.js";import{A as re}from"./Add-B_vKwd5C.js";import{D as ne}from"./Delete-BndCycoy.js";import{B as P}from"./Box-VEB2SCGT.js";import{B as oe}from"./Badge-DDhkO1Fz.js";import{T as b}from"./Typography-DRjZWMth.js";import{M as z,c as G}from"./Select-Bk3sn5xi.js";import{P as Q}from"./Paper-IUoxnzvH.js";import{M as v}from"./MenuItem-CMGtjuSE.js";import{L as D,P as ae,S as ie,T as se}from"./Tag-DrqZSg0G.js";import{L as w}from"./ListItemText-neyRUY8Q.js";import{S as le}from"./Stack-QjlE7ymT.js";import{G as k}from"./GroupOutlined-DmUGMZ3S.js";import"./Button-BxoVs6ZK.js";import"./styled-AX3WQiqK.js";import"./ButtonBase-BZJrsSUT.js";import"./useTimeout-kuuMuFVN.js";import"./TransitionGroupContext-DkLkXY74.js";import"./useIsFocusVisible-BVCTFO4q.js";import"./select-DT0abQCc.js";import"./FormControl-Bvexnv9I.js";import"./utils-DoM3o7-Q.js";import"./useFormControl-j6TWbiTy.js";import"./isMuiElement-tmp0hHY9.js";import"./Chip-D-e2GIwl.js";import"./createSvgIcon-V8HVGjoo.js";import"./TextField-ChueuGlo.js";import"./useId-DV-IoEpY.js";import"./createChainedFunction-BO_9K8Jh.js";import"./ownerWindow-DIR61fab.js";import"./useControlled-7GtWE5q9.js";import"./usePreviousProps-BRaoX2AX.js";import"./useSlotProps-re4MZg2K.js";import"./resolveComponentProps-DdCxtoP1.js";import"./isHostComponent-DVu5iVWx.js";import"./formControlState-Dq1zat_P.js";import"./List-BxyuLOoB.js";import"./Grow-CxdA_Xp2.js";import"./useTheme-C5UVmkdi.js";import"./getReactElementRef-DbwD0SEZ.js";import"./Modal-CG13Q5kf.js";import"./index-w00OeCIG.js";import"./index-CjlK8uMj.js";import"./InputBase-CRatIxq-.js";import"./dividerClasses-BdycyqIl.js";var O={},L;function de(){if(L)return O;L=1;var t=J();Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var n=t($()),s=N();return O.default=(0,n.default)((0,s.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),O}var ue=de();const ce=K(ue);var C={},V;function pe(){if(V)return C;V=1;var t=J();Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var n=t($()),s=N();return C.default=(0,n.default)((0,s.jsx)("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99zM9 3 5 6.99h3V14h2V6.99h3z"}),"SwapVert"),C}var me=pe();const xe=K(me),F=o.createContext(void 0);function ge({filter:t,setFilter:n,sort:s,setSort:c,availableSortFields:l,filterOptions:p,children:a,defaultOpen:m,...x}){const[i,S]=o.useState(null),[f,g]=o.useState([{field:"name",order:"ascending"}]),y={filter:t!==void 0?t:i,setFilter:n!==void 0?n:S,sort:s!==void 0?s:f,setSort:c!==void 0?c:g,availableSortFields:l,filterOptions:p,defaultOpen:m,...x};return e.jsx(F.Provider,{value:y,children:a})}function R({appearance:t="sort",...n}){return e.jsx(ge,{...n,children:e.jsx(P,{sx:{display:"flex",flexDirection:"column",width:240,gap:1},children:e.jsx(he,{appearance:t})})})}const he=({appearance:t="sort"})=>t==="filter"?e.jsx(je,{}):e.jsx(ve,{}),B={sx:{maxHeight:"233px !important","& .MuiTypography-root":{fontSize:"0.875rem"},"& .MuiListItemIcon-root":{minWidth:"28px !important",svg:{width:"20px"}},"& .MuiButtonBase-root.MuiMenuItem-root ":{borderRadius:"4px"}}},fe={padding:0,maxHeight:"215px !important","& .MuiTypography-root":{fontSize:"0.875rem"},"& .MuiListItemIcon-root":{minWidth:"28px !important",svg:{width:"20px"}},"& .MuiButtonBase-root.MuiMenuItem-root ":{borderRadius:"4px"},"& .MuiMenuItem-root":{padding:"4px 8px"},"&":{padding:"8px 0"}};function ve(){const{sort:t,setSort:n,defaultOpen:s,onChangeSort:c,onAddSort:l,onDeleteSort:p,onChangeSortOrder:a,availableSortFields:m}=o.useContext(F),[x,i]=o.useState(),[S,f]=o.useState(null),g=d=>i(d.currentTarget),y=()=>i(null),u=d=>f(d.currentTarget),r=()=>f(null),Y=(d,h)=>{var I;n(j=>j.map(M=>M.field===h?{...M,field:d}:M)),c==null||c(d,((I=t.find(j=>j.field===h))==null?void 0:I.order)||"ascending")},Z=(d,h)=>{n(I=>I.map(j=>j.field===h?{...j,order:d}:j)),a==null||a(h,d)},ee=d=>{n(h=>[...h,{field:d,order:"ascending"}]),l==null||l(d),t.length===m.length-1&&r()},te=()=>{n([]),p==null||p()},E=t.map(d=>d.field);return o.useEffect(()=>{const d=document.getElementById("menu-button");s?d&&i(d):i(null)},[s]),e.jsxs(e.Fragment,{children:[e.jsxs(H,{color:"info",id:"menu-button",sx:{backgroundColor:"#0288D114",borderRadius:"16px",display:"inline-flex",alignItems:"center",px:1.5,py:.5,width:"fit-content",textTransform:"capitalize","&:hover":{backgroundColor:"#0288D129"},boxShadow:"none !important"},onClick:g,children:[t.length>1?e.jsx(xe,{sx:{fontSize:22,color:"#0288D1"}}):e.jsx(ce,{sx:{fontSize:18,color:"#0288D1"}}),e.jsx(b,{sx:{color:"#0288D1",fontWeight:500,ml:.5},variant:"body2",children:t.length===0?"Value":t.length===1?`${t[0].field}`:`${t.length} Sort`}),e.jsx(X,{sx:{color:"#0288D1",ml:.5}})]}),e.jsx(z,{anchorEl:x,open:!!x,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:-5,horizontal:"left"},elevation:1,MenuListProps:{sx:{padding:0},"aria-labelledby":"menu-button"},children:e.jsxs(Q,{elevation:0,sx:{p:"8px",display:"flex",flexDirection:"column",gap:1,width:220,border:"1px solid #0000001F",borderRadius:"5px"},children:[t.map((d,h)=>e.jsx(Se,{index:h,field:d.field,order:d.order,onSetField:Y,onSetOrder:Z,usedFields:E},h)),e.jsxs(G,{dense:!0,sx:{padding:0,"& .MuiMenuItem-root":{padding:"4px 8px",borderRadius:"4px"}},children:[t.length!==m.length?e.jsxs(v,{onClick:u,sx:{color:"text.disabled"},children:[e.jsx(D,{sx:{color:"text.disabled"},children:e.jsx(re,{fontSize:"small"})}),e.jsx(w,{children:e.jsx(b,{variant:"body2",children:"Add sort"})})]}):null,t.length===m.length?e.jsxs(v,{sx:{color:"text.disabled"},onClick:te,disabled:t.length===0,children:[e.jsx(D,{sx:{color:"text.disabled"},children:e.jsx(ne,{fontSize:"small"})}),e.jsx(w,{children:e.jsx(b,{variant:"body2",children:"Delete sort"})})]}):null]})]})}),e.jsx(ye,{open:!!S,anchorEl:S,onClose:r,onAddSort:ee,usedFields:E})]})}function Se({field:t,order:n,onSetField:s,onSetOrder:c,usedFields:l}){const{availableSortFields:p}=o.useContext(F),[a,m]=o.useState(t),[x,i]=o.useState(n);o.useEffect(()=>{m(t),i(n)},[t,n]);const S=r=>{m(r),s(r,a)},f=r=>{i(r),c(r,a)},[g,y]=o.useState("");o.useEffect(()=>{g!==""&&y("")},[]);const u=p.filter(r=>r.label.toLowerCase().includes(g.toLowerCase()));return e.jsxs(P,{sx:{display:"flex",gap:"2px"},children:[e.jsxs(q,{value:a,onChange:S,FormControlProps:{sx:{width:"auto"}},MenuProps:{MenuListProps:{sx:{padding:"8px 0"},autoFocusItem:!1},PaperProps:{sx:{...B.sx,border:"1px solid #0000001F",borderRadius:"5px"},elevation:1}},sx:{fontSize:"12px !important",textTransform:"capitalize"},children:[e.jsx(A,{appearance:"distinct",placeholder:"Search For Property",size:"small",sx:{width:"100%","& .MuiInputBase-input":{padding:"4px 8px"}},FormControlProps:{sx:{width:"100%",mb:"4px"}},onKeyDown:r=>{r.stopPropagation()},onChange:r=>y(r.target.value),value:g}),u.map(r=>e.jsxs(v,{value:r.value,disabled:l.includes(r.value)&&r.value!==t,children:[e.jsx(D,{children:r.icon}),e.jsx(w,{children:r.label})]},r.value)),u.length===0&&e.jsx(v,{disabled:!0,children:e.jsx(w,{children:"No fields found"})})]}),e.jsxs(q,{value:x,onChange:f,FormControlProps:{sx:{width:"auto"}},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:100},PaperProps:{sx:{...B.sx,border:"1px solid #0000001F",borderRadius:"5px"},elevation:1}},sx:{fontSize:"12px !important",width:"88px !important",textTransform:"capitalize"},children:[e.jsx(v,{value:"ascending",children:"Ascending"}),e.jsx(v,{value:"descending",children:"Descending"})]})]})}function ye({open:t,anchorEl:n,onClose:s,onAddSort:c,usedFields:l}){const[p,a]=o.useState(""),{availableSortFields:m}=o.useContext(F),x=m.filter(i=>i.label.toLowerCase().includes(p.toLowerCase()));return e.jsx(z,{open:t,onClose:s,anchorEl:n,MenuListProps:{disablePadding:!0,sx:{px:"4px"}},anchorOrigin:{vertical:"bottom",horizontal:-10},sx:{"& .MuiPaper-root":{width:"220px !important",border:"1px solid #0000001F",borderRadius:"5px"}},elevation:1,disableAutoFocusItem:!0,children:e.jsxs(G,{sx:fe,autoFocusItem:!1,children:[e.jsx(A,{autoFocus:!0,appearance:"distinct",placeholder:"Search For Property",size:"small",sx:{width:"100%","& .MuiInputBase-input":{padding:"4px 8px"}},FormControlProps:{sx:{width:"100%",mb:"4px"}},onKeyDown:i=>{i.stopPropagation()},onChange:i=>a(i.target.value),value:p}),x.map(i=>l.includes(i.value)?null:e.jsxs(v,{onClick:()=>c(i.value),disabled:l.includes(i.value),children:[e.jsx(D,{children:i.icon}),e.jsx(w,{children:i.label})]},i.value)),x.length===0&&e.jsx(v,{disabled:!0,children:e.jsx(w,{children:"No fields found"})})]})})}const be={sx:{maxHeight:"242px !important","& .MuiTypography-root":{fontSize:"0.875rem"},"& .MuiListItemIcon-root":{minWidth:"28px !important",svg:{width:"20px"}},"& .MuiButtonBase-root.MuiMenuItem-root ":{borderRadius:"4px"}}},je=()=>{const{filter:t,setFilter:n,defaultOpen:s,OnSetFilterValue:c,OnClearFilter:l,OnSetFilterOption:p}=o.useContext(F),[a,m]=o.useState(null),x=u=>m(u.currentTarget),i=()=>m(null),S=u=>{n(r=>({value:(r==null?void 0:r.value)??"",filterOption:u||"contains"})),p==null||p(u)},[f,g]=o.useState("");o.useEffect(()=>{f!==""&&g("")},[]);const y=u=>{g(u),u===""?(n(null),l==null||l()):(n(r=>({value:u||"",filterOption:(r==null?void 0:r.filterOption)??"contains"})),c==null||c(u))};return o.useEffect(()=>{const u=document.getElementById("menu-button");s?u&&m(u):m(null)},[s]),e.jsxs(e.Fragment,{children:[e.jsx(H,{color:"info",id:"menu-button",sx:{backgroundColor:t!=null&&t.value?"#0288D114":"transparent",borderRadius:"16px",display:"inline-flex",alignItems:"center",px:1.5,py:.5,width:"fit-content",textTransform:"capitalize","&:hover":{backgroundColor:t!=null&&t.value?"#0288D129":"#EEEDF4"},boxShadow:"none !important"},onClick:x,children:e.jsxs(oe,{color:"error",variant:"dot",sx:{alignItems:"center"},children:[e.jsxs(b,{sx:{color:t!=null&&t.value?"#0288D1":"#0000008F",fontWeight:500,ml:.5},variant:"body2",children:[e.jsx(b,{sx:{fontWeight:600,mr:.5,color:t!=null&&t.value?void 0:"#0000008F",fontSize:"0.875rem"},component:"span",children:"Aa"}),e.jsx(b,{sx:{mr:.5,display:"inline-flex",fontSize:"0.875rem"},children:t!=null&&t.filterOption?`${t==null?void 0:t.filterOption} :`:""}),e.jsx(P,{sx:{maxWidth:"50px",display:"inline-flex"},children:e.jsx(b,{sx:{mr:.5,fontSize:"0.875rem",maxWidth:"50px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},component:"span",noWrap:!0,children:(t==null?void 0:t.value)||"Value"})})]}),e.jsx(X,{sx:{color:t!=null&&t.value?"#0288D1":"#0000001F",ml:.5}})]})}),e.jsx(z,{anchorEl:a,open:!!a,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:-5,horizontal:"left"},elevation:1,MenuListProps:{sx:{padding:0}},children:e.jsxs(Q,{elevation:0,sx:{p:1,display:"flex",flexDirection:"column",gap:1,width:220,border:"1px solid #0000001F",borderRadius:"5px"},children:[e.jsx(we,{field:(t==null?void 0:t.filterOption)||"contains",onSetField:S}),e.jsx(A,{appearance:"distinct",placeholder:"Type a value...",size:"small",sx:{width:"100%","& .MuiInputBase-input":{padding:"4px 8px"}},FormControlProps:{sx:{width:"100%"}},onChange:u=>y(u.target.value),value:f})]})})]})};function we({field:t,onSetField:n}){const{filterOptions:s}=o.useContext(F),[c,l]=o.useState(t);o.useEffect(()=>{l(t)},[t]);const p=a=>{l(a),n(a)};return e.jsxs(le,{sx:{flexDirection:"row",gap:1,alignItems:"center"},children:[e.jsx(b,{sx:{fontSize:"12px",color:"#0000001F"},component:"span",children:"Name"}),e.jsx(q,{value:c,onChange:p,FormControlProps:{sx:{width:"auto"}},MenuProps:{PaperProps:{sx:{...be.sx,border:"1px solid #0000001F",borderRadius:"5px"},elevation:1}},sx:{fontSize:"12px !important",textTransform:"capitalize",width:"80px !important"},children:s.map(a=>e.jsx(v,{value:a.value,children:e.jsx(w,{sx:{textTransform:"capitalize"},children:a.label})},a.value))})]})}R.__docgenInfo={description:"",methods:[],displayName:"DetailSelect",props:{filter:{required:!1,tsType:{name:"union",raw:"{ value: string; filterOption: string } | null",elements:[{name:"signature",type:"object",raw:"{ value: string; filterOption: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}},{name:"null"}]},description:""},setFilter:{required:!1,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<{ value: string; filterOption: string } | null>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<{ value: string; filterOption: string } | null>",elements:[{name:"union",raw:"{ value: string; filterOption: string } | null",elements:[{name:"signature",type:"object",raw:"{ value: string; filterOption: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}},{name:"null"}]}]}]},description:""},sort:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string, order: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"string",required:!0}}]}}],raw:"SortItem[]"},description:""},setSort:{required:!1,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<SortItem[]>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<SortItem[]>",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string, order: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"string",required:!0}}]}}],raw:"SortItem[]"}]}]},description:""},appearance:{required:!1,tsType:{name:"union",raw:"'sort' | 'filter'",elements:[{name:"literal",value:"'sort'"},{name:"literal",value:"'filter'"}]},description:"",defaultValue:{value:'"sort"',computed:!1}},availableSortFields:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  label: string;\r
  value: string;\r
  icon: JSX.Element;\r
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}},{key:"icon",value:{name:"JSX.Element",required:!0}}]}}],raw:`{\r
  label: string;\r
  value: string;\r
  icon: JSX.Element;\r
}[]`},description:""},filterOptions:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  label: string;\r
  value: string;\r
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}}]}}],raw:`{\r
  label: string;\r
  value: string;\r
}[]`},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:""},onAddSort:{required:!1,tsType:{name:"signature",type:"function",raw:"(field: string) => void",signature:{arguments:[{type:{name:"string"},name:"field"}],return:{name:"void"}}},description:""},onDeleteSort:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChangeSort:{required:!1,tsType:{name:"signature",type:"function",raw:"(field: string, order: string) => void",signature:{arguments:[{type:{name:"string"},name:"field"},{type:{name:"string"},name:"order"}],return:{name:"void"}}},description:""},onChangeSortOrder:{required:!1,tsType:{name:"signature",type:"function",raw:"(field: string, order: string) => void",signature:{arguments:[{type:{name:"string"},name:"field"},{type:{name:"string"},name:"order"}],return:{name:"void"}}},description:""},OnSetFilterOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: string) => void",signature:{arguments:[{type:{name:"string"},name:"option"}],return:{name:"void"}}},description:""},OnSetFilterValue:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},OnClearFilter:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const bt={title:"MOLECULES/Table Elements/Detail Select",component:R,parameters:{controls:{include:["appearance","active","hasValue"]}},argTypes:{hasValue:{control:{type:"boolean"}},active:{control:{type:"boolean"}},appearance:{control:{type:"select",options:["sort","filter"]}}},args:{appearance:"sort",hasValue:!1,active:!1}},Fe=[{label:"Name",value:"name",icon:e.jsx(ae,{})},{label:"Care Team",value:"care team",icon:e.jsx(k,{})},{label:"Share Team",value:"share team",icon:e.jsx(k,{})},{label:"Journeys",value:"journeys",icon:e.jsx(ie,{})},{label:"Tags",value:"tags",icon:e.jsx(se,{})}],Oe=[{label:"is",value:"is"},{label:"is not",value:"is not"},{label:"contains",value:"contains"},{label:"does not contain",value:"does not contain"},{label:"starts with",value:"starts with"},{label:"ends with",value:"ends with"},{label:"is empty",value:"is empty"},{label:"is not empty",value:"is not empty"}],T={render:({appearance:t,active:n,hasValue:s})=>{const[c,l]=o.useState(null),[p,a]=o.useState([{field:"name",order:"ascending"}]);return o.useEffect(()=>{t==="filter"?l(s?{value:"example",filterOption:"contains"}:null):a(s?[{field:"name",order:"ascending"}]:[])},[t,s]),e.jsx(R,{defaultOpen:n,appearance:t,filter:c,setFilter:l,sort:p,setSort:a,availableSortFields:Fe,filterOptions:Oe})}};var _,W,U;T.parameters={...T.parameters,docs:{...(_=T.parameters)==null?void 0:_.docs,source:{originalSource:`{
  render: ({
    appearance,
    active,
    hasValue
  }) => {
    const [filter, setFilter] = useState<{
      value: string;
      filterOption: string;
    } | null>(null);
    const [sort, setSort] = useState<{
      field: string;
      order: string;
    }[]>([{
      field: 'name',
      order: 'ascending'
    }]);
    useEffect(() => {
      if (appearance === "filter") {
        if (hasValue) {
          setFilter({
            value: 'example',
            filterOption: 'contains'
          });
        } else {
          setFilter(null);
        }
      } else {
        if (hasValue) {
          setSort([{
            field: 'name',
            order: 'ascending'
          }]);
        } else {
          setSort([]);
        }
      }
    }, [appearance, hasValue]);

    /* \r
        - This methods helps developer make the component more interactive.\r
            - Appearance "Sort"\r
                * onAddSort\r
                * onDeleteSort\r
                * onChangeSort\r
                * onChangeSortOrder\r
            - Appearance "Filter"\r
                * OnSetFilterOption\r
                * OnSetFilterValue\r
                * OnClearFilter\r
    */

    return <DetailSelect defaultOpen={active} appearance={appearance} filter={filter} setFilter={setFilter} sort={sort} setSort={setSort} availableSortFields={availableSortFields} filterOptions={filterOptions}

    // onChangeSort={(field, order) => console.log("Sort changed", { field, order })}
    // onChangeSortOrder={(field, order) => console.log("Sort order changed", { field, order })}
    // onAddSort={(field) => console.log("Sort added", field)}
    // onDeleteSort={() => console.log("All Sortdeleted")}

    // OnSetFilterOption={(option) => console.log("Filter option set", option)}
    // OnSetFilterValue={(value) => console.log("Filter value set", value)}
    // OnClearFilter={() => console.log("Filter cleared")}
    />;
  }
}`,...(U=(W=T.parameters)==null?void 0:W.docs)==null?void 0:U.source}}};const jt=["Default"];export{T as Default,jt as __namedExportsOrder,bt as default};
