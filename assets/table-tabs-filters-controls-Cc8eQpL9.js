import{i as W,k as H,g as L,r as u,j as e}from"./iframe-CM3h47Pf.js";import{T as K,F as w}from"./FilterList-Cv0-RDpO.js";import{I as x}from"./icon-button-D9DfdhK8.js";import{S as R}from"./SwapVert-D3R4uzPl.js";import{S as Q}from"./Search-BLvZSuZE.js";import{C as M}from"./CalendarViewMonthRounded-B7GqLPAb.js";import{P as U,S as X,T as Y}from"./Tag-HOrNbciI.js";import{G as P}from"./GroupOutlined-DPv6lbhP.js";import{R as Z}from"./reset-Cq-rCVfB.js";import{D as O}from"./detail-select-pending-4Vtxt9Dq.js";import{D as V}from"./detail-select-default-BE45x72t.js";import{r as $}from"./createSvgIcon-g6ki7VAI.js";import{B as q}from"./Badge-D2vCWnn3.js";import{B as ee}from"./Box-CPj2at51.js";import{S as k}from"./Stack-Dif7eGMF.js";var h={},E;function te(){if(E)return h;E=1;var l=W();Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var a=l($()),r=H();return h.default=(0,a.default)((0,r.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),h}var ne=te();const re=L(ne),_=u.createContext(void 0),oe=()=>{const l=u.useContext(_);if(!l)throw new Error("useFilterContext must be used within FilterContext.Provider");return l},le=l=>{var r,i;const a=l??[];return[{content:e.jsx(ee,{sx:{p:1},children:((r=a[0])==null?void 0:r.content)??e.jsx(e.Fragment,{})})},{content:e.jsxs(k,{sx:{p:1},children:[e.jsx(ce,{}),((i=a[1])==null?void 0:i.content)??e.jsx(e.Fragment,{})]})},...a.slice(2).map(d=>({content:d.content?e.jsx(e.Fragment,{children:d.content}):e.jsx(e.Fragment,{})}))]},ae=l=>{var r,i,d,f;const a=l??[];return[{label:((r=a[0])==null?void 0:r.label)||"All Contacts",icon:((i=a[0])==null?void 0:i.icon)??e.jsx(M,{})},{label:((d=a[1])==null?void 0:d.label)||"Patients",icon:((f=a[1])==null?void 0:f.icon)??e.jsx(M,{})},...a.slice(2).map(g=>({label:g.label,icon:g.icon??e.jsx(M,{})}))]},se=({tabs:l,tabPanels:a,selectedFilters:r,selectedSorts:i,openSortMenu:d,reset:f,openDetailSelectSort:g,openDetailSelectFilter:T})=>{const[c,j]=u.useState(r||[]),[p,F]=u.useState(i||[]),[y,C]=u.useState(d||!1),[n,s]=u.useState(f||!1),[t,o]=u.useState(!1),[S,b]=u.useState(g||!1),[z,A]=u.useState(T||{open:!1,index:-1}),B=m=>{j(D=>[...D,{field:m,value:"",filterOption:"contains"}]),A({open:!0,index:c.length}),t&&o(!1)},N={filterSelected:c,setFilterSelected:j,sortSelected:p,setSortSelected:F,setOpenSortMenu:C,openSortMenu:y,handleAddFilter:B,reset:n,setReset:s,openDetailSelectSort:S,openDetailSelectFilter:z,setOpenDetailSelectSort:b,setOpenDetailSelectFilter:A,hide:t,setHide:o},G=m=>{F(D=>[...D,{field:m,order:"ascending"}]),b(!0)},v=c.map(m=>m.field),J=I.filter(m=>!v.includes(m.value));return console.log(n,t,c.length>0||n),e.jsx(_.Provider,{value:N,children:e.jsx(K,{tabs:ae(l),tabPanels:le(a),defaultTab:1,tableControls:e.jsxs(e.Fragment,{children:[c.length>0||n?e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:v.length>0?"info.main":void 0}},onClick:()=>{t?o(!t):(s(!1),o(!0))},children:v.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(w,{})}):e.jsx(w,{})}):e.jsx(O,{availableFilterFields:J,placeholder:"Filter By...",onChangeFilter:B,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:v.length>0?"info.main":void 0}},children:v.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(w,{})}):e.jsx(w,{})})}),p.length===0?e.jsx(O,{availableFilterFields:I,placeholder:"Sort By...",onChangeFilter:G,onClose:()=>{C(!1)},open:y,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:p.length>0?"info.main":void 0}},onClick:()=>{t?o(!t):(s(!1),o(!1))},children:p.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(R,{})}):e.jsx(R,{})})}):e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:p.length>0?"info.main":void 0}},onClick:()=>{o(!t),t&&b(!0)},children:p.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(R,{})}):e.jsx(R,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(re,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(Q,{})})]})})})},ie=[{label:"is",value:"is"},{label:"is not",value:"is not"},{label:"contains",value:"contains"},{label:"does not contain",value:"does not contain"},{label:"starts with",value:"starts with"},{label:"ends with",value:"ends with"},{label:"is empty",value:"is empty"},{label:"is not empty",value:"is not empty"}],I=[{label:"Name",value:"name",icon:e.jsx(U,{})},{label:"Care Team",value:"care team",icon:e.jsx(P,{})},{label:"Share Team",value:"share team",icon:e.jsx(P,{})},{label:"Journeys",value:"journeys",icon:e.jsx(X,{})},{label:"Tags",value:"tags",icon:e.jsx(Y,{})}],ce=()=>{const{filterSelected:l,setFilterSelected:a,sortSelected:r,setSortSelected:i,handleAddFilter:d,reset:f,setReset:g,openDetailSelectSort:T,openDetailSelectFilter:c,hide:j,setOpenDetailSelectSort:p,setOpenDetailSelectFilter:F}=oe(),y=l.map(n=>n.field),C=I.filter(n=>!y.includes(n.value));return e.jsxs(k,{sx:{flexDirection:"row",gap:1,alignItems:"center",width:"100%",justifyContent:"space-between",flexWrap:"wrap",display:j?"none":"flex"},children:[e.jsxs(k,{sx:{flexDirection:"row",gap:1,flexWrap:"wrap"},children:[r.length>0?e.jsx(V,{appearance:"sort",availableSortFields:I,value:r,onAddSort:n=>{const s=[...r];s.find(t=>t.field===n)||s.push({field:n,order:"ascending"}),i(s)},onChangeSort:(n,s,t)=>{const o=[...r],S=o.findIndex(b=>b.field===t);o[S].field=n},onChangeSortOrder:(n,s)=>{const t=[...r],o=t.findIndex(S=>S.field===n);t[o].order=s,i(t)},onDeleteSort:()=>{i([])},onClose:()=>{p(!1)},open:T}):null,l.map((n,s)=>e.jsx(V,{appearance:"filter",filterOptions:ie,field:n.field,value:{value:n.value.toString(),filterOption:n.filterOption.toString()},onSetFilterOption:t=>{const o=[...l];o[s].filterOption=t,a([...o])},onSetFilterValue:t=>{const o=[...l];o[s].value=t,a([...o])},open:s===(c==null?void 0:c.index)&&(c==null?void 0:c.open),onClose:()=>F(void 0)},s)),f||l.length>0||r.length>0?e.jsx(O,{placeholder:"Filter By...",availableFilterFields:C,onChangeFilter:d}):null]}),l.length>0||r.length>0?e.jsx(Z,{onClick:()=>{g(!0),a([]),r.length>0&&i([])}}):null]})};se.__docgenInfo={description:"",methods:[],displayName:"TableTabsFiltersControls",props:{selectedFilters:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; value: string | number | boolean; filterOption: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"value",value:{name:"union",raw:"string | number | boolean",elements:[{name:"string"},{name:"number"},{name:"boolean"}],required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}}],raw:"{ field: string; value: string | number | boolean; filterOption: string }[]"},description:""},selectedSorts:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; order: 'ascending' | 'descending' }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:"'ascending' | 'descending'",elements:[{name:"literal",value:"'ascending'"},{name:"literal",value:"'descending'"}],required:!0}}]}}],raw:"{ field: string; order: 'ascending' | 'descending' }[]"},description:""},openSortMenu:{required:!1,tsType:{name:"boolean"},description:""},tabs:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; icon?: React.ReactElement }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"ReactReactElement",raw:"React.ReactElement",required:!1}}]}}],raw:"{ label: string; icon?: React.ReactElement }[]"},description:""},tabPanels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ content: React.ReactNode }",signature:{properties:[{key:"content",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}}]}}],raw:"{ content: React.ReactNode }[]"},description:""},reset:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectSort:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectFilter:{required:!1,tsType:{name:"signature",type:"object",raw:`{\r
    open: boolean,\r
    index: number\r
}`,signature:{properties:[{key:"open",value:{name:"boolean",required:!0}},{key:"index",value:{name:"number",required:!0}}]}},description:""}}};export{se as T};
