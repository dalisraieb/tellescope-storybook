import{i as E,k as _,g as N,r as g,j as e}from"./iframe-Bv6dwyi6.js";import{T as z,F as O}from"./FilterList-C7MLAzmC.js";import{I as x}from"./icon-button-Bsq2QKSR.js";import{S as j}from"./SwapVert-DitooL-c.js";import{S as G}from"./Search-Bw82WqJA.js";import{C as T}from"./CalendarViewMonthRounded-CuYcIIDy.js";import{P as J,S as W,T as L}from"./Tag-I7Pj7mF6.js";import{G as A}from"./GroupOutlined-DifzGsY2.js";import{R as H}from"./reset-DfwhWuYg.js";import{D as I}from"./detail-select-pending-CDLHue24.js";import{D}from"./detail-select-default-DC27LsKt.js";import{r as K}from"./createSvgIcon-CKdMn4wO.js";import{B as q}from"./Badge-oZGx0qmT.js";import{B as Q}from"./Box-BzyrmKLH.js";import{T as U}from"./Typography-YZ__YNto.js";import{S as M}from"./Stack-BfX3vPkc.js";var b={},B;function X(){if(B)return b;B=1;var n=E();Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var r=n(K()),t=_();return b.default=(0,r.default)((0,t.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),b}var Y=X();const Z=N(Y),V=g.createContext(void 0),$=()=>{const n=g.useContext(V);if(!n)throw new Error("useFilterContext must be used within FilterContext.Provider");return n},ee=n=>{var t,s;const r=n??[];return[{content:e.jsxs(Q,{sx:{p:1},children:[e.jsx(U,{children:"All Contact Tab"}),((t=r[0])==null?void 0:t.content)??e.jsx(e.Fragment,{})]})},{content:e.jsxs(M,{sx:{p:1},children:[e.jsx(ae,{}),((s=r[1])==null?void 0:s.content)??e.jsx(e.Fragment,{})]})},...r.slice(2).map(c=>({content:c.content?e.jsx(e.Fragment,{children:c.content}):e.jsx(e.Fragment,{})}))]},te=n=>{var t,s,c,m;const r=n??[];return[{label:((t=r[0])==null?void 0:t.label)||"All Contacts",icon:((s=r[0])==null?void 0:s.icon)??e.jsx(T,{})},{label:((c=r[1])==null?void 0:c.label)||"Patients",icon:((m=r[1])==null?void 0:m.icon)??e.jsx(T,{})},...r.slice(2).map(p=>({label:p.label,icon:p.icon??e.jsx(T,{})}))]},ne=({tabs:n,tabPanels:r,selectedFilters:t,selectedSorts:s,openSortMenu:c,reset:m,openDetailSelectSort:p=!1,openDetailSelectFilter:y=!1})=>{const[v,h]=g.useState(t||[]),[d,S]=g.useState(s||[]),[a,l]=g.useState(c||!1),[o,i]=g.useState(m||!1),f=u=>{h(R=>[...R,{field:u,value:"",filterOption:"contains"}])},w=u=>{S(R=>[...R,{field:u,order:"ascending"}])},C=v.map(u=>u.field),k=F.filter(u=>!C.includes(u.value)),P={filterSelected:v,setFilterSelected:h,sortSelected:d,setSortSelected:S,setOpenSortMenu:l,openSortMenu:a,handleAddFilter:f,reset:o,setReset:i,openDetailSelectSort:p,openDetailSelectFilter:y};return e.jsx(V.Provider,{value:P,children:e.jsx(z,{tabs:te(n),tabPanels:ee(r),defaultTab:1,tableControls:e.jsxs(e.Fragment,{children:[e.jsx(I,{availableFilterFields:k,placeholder:"Filter By...",onChangeFilter:f,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:C.length>0?"info.main":void 0}},children:C.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(O,{})}):e.jsx(O,{})})}),d.length===0?e.jsx(I,{availableFilterFields:F,placeholder:"Sort By...",onChangeFilter:w,onClose:()=>l(!1),open:a,buttonContent:e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:d.length>0?"info.main":void 0}},children:d.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(j,{})}):e.jsx(j,{})})}):e.jsx(x,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:d.length>0?"info.main":void 0}},children:d.length>0?e.jsx(q,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(j,{})}):e.jsx(j,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(Z,{})}),e.jsx(x,{color:"default",size:"small",children:e.jsx(G,{})})]})})})},re=[{label:"is",value:"is"},{label:"is not",value:"is not"},{label:"contains",value:"contains"},{label:"does not contain",value:"does not contain"},{label:"starts with",value:"starts with"},{label:"ends with",value:"ends with"},{label:"is empty",value:"is empty"},{label:"is not empty",value:"is not empty"}],F=[{label:"Name",value:"name",icon:e.jsx(J,{})},{label:"Care Team",value:"care team",icon:e.jsx(A,{})},{label:"Share Team",value:"share team",icon:e.jsx(A,{})},{label:"Journeys",value:"journeys",icon:e.jsx(W,{})},{label:"Tags",value:"tags",icon:e.jsx(L,{})}],ae=()=>{const{filterSelected:n,setFilterSelected:r,sortSelected:t,setSortSelected:s,setOpenSortMenu:c,handleAddFilter:m,reset:p,setReset:y,openDetailSelectSort:v,openDetailSelectFilter:h}=$(),d=n.map(a=>a.field),S=F.filter(a=>!d.includes(a.value));return e.jsxs(M,{sx:{flexDirection:"row",gap:1,alignItems:"center",width:"100%",justifyContent:"space-between",flexWrap:"wrap"},children:[e.jsxs(M,{sx:{flexDirection:"row",gap:1,flexWrap:"wrap"},children:[n.map((a,l)=>e.jsx(D,{appearance:"filter",filterOptions:re,field:a.field,value:{value:a.value.toString(),filterOption:a.filterOption.toString()},onSetFilterOption:o=>{const i=[...n];i[l].filterOption=o,r([...i])},onSetFilterValue:o=>{const i=[...n];i[l].value=o,r([...i])},open:h},l)),t.length>0?e.jsx(D,{appearance:"sort",availableSortFields:F,value:t,onAddSort:a=>{const l=[...t];l.find(o=>o.field===a)||l.push({field:a,order:"ascending"}),s(l)},onChangeSort:(a,l,o)=>{const i=[...t],f=i.findIndex(w=>w.field===o);i[f].field=a},onChangeSortOrder:(a,l)=>{const o=[...t],i=o.findIndex(f=>f.field===a);o[i].order=l,s(o)},onDeleteSort:()=>{s([])},open:v}):null,p||n.length>0||t.length>0?e.jsx(I,{placeholder:"Filter By...",availableFilterFields:S,onChangeFilter:m}):null]}),n.length>0||t.length>0?e.jsx(H,{onClick:()=>{y(!0),r([]),t.length>0&&(s([]),c(!0))}}):null]})};ne.__docgenInfo={description:"",methods:[],displayName:"TableTabsFiltersControls",props:{selectedFilters:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; value: string | number | boolean; filterOption: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"value",value:{name:"union",raw:"string | number | boolean",elements:[{name:"string"},{name:"number"},{name:"boolean"}],required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}}],raw:"{ field: string; value: string | number | boolean; filterOption: string }[]"},description:""},selectedSorts:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; order: 'ascending' | 'descending' }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:"'ascending' | 'descending'",elements:[{name:"literal",value:"'ascending'"},{name:"literal",value:"'descending'"}],required:!0}}]}}],raw:"{ field: string; order: 'ascending' | 'descending' }[]"},description:""},openSortMenu:{required:!1,tsType:{name:"boolean"},description:""},tabs:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; icon?: React.ReactElement }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"ReactReactElement",raw:"React.ReactElement",required:!1}}]}}],raw:"{ label: string; icon?: React.ReactElement }[]"},description:""},tabPanels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ content: React.ReactNode }",signature:{properties:[{key:"content",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}}]}}],raw:"{ content: React.ReactNode }[]"},description:""},reset:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectSort:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},openDetailSelectFilter:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{ne as T};
