import{r as f,j as e,p as X,q as H,g as $}from"./iframe-CpdnR0i2.js";import{I as C}from"./icon-button-Y5vMW5TR.js";import{r as G}from"./createSvgIcon-C3FiYK1r.js";import{S as M,D as _}from"./detail-select-default-D8J8BZEA.js";import{T as ee,a as z,C as A}from"./CalendarViewMonthRounded-C73t5EYs.js";import{P as te,S as ne,T as re}from"./Tag-BB6O47SC.js";import{G as J}from"./GroupOutlined-Ah3vpoTb.js";import{R as ae}from"./reset-doMOQHw7.js";import{D as P}from"./detail-select-pending-Bp4J6D8E.js";import{T as le}from"./table-search-DxhHNQG_.js";import{B as k}from"./Badge-D_C-h1_3.js";import{B as K}from"./Box-Cc3QCFpm.js";import{S as q}from"./Stack-Bd6jq2pn.js";import{T as oe}from"./Typography-DUyUrCFr.js";import{A as ie}from"./Add-Dp0RfSr-.js";function N(t){return{id:`simple-tab-${t}`,"aria-controls":`simple-tabpanel-${t}`}}function se(t){const{children:a,value:n,index:l,...d}=t;return e.jsx("div",{role:"tabpanel",hidden:n!==l,id:`simple-tabpanel-${l}`,"aria-labelledby":`simple-tab-${l}`,...d,children:n===l&&a})}const Q=({tabs:t,tabPanels:a,value:n,onChange:l,tableControls:d,defaultTab:x})=>{const[g,v]=f.useState(n||x||0),{sortSelected:s,filterSelected:h}=ge(),u=(p,i)=>{v(i),l==null||l(p,i)};return e.jsxs(K,{sx:{width:"100%"},children:[e.jsxs(q,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottom:s.length>0||h.length>0?1:0,borderColor:"divider",pl:3},children:[e.jsxs(ee,{value:g,onChange:u,"aria-label":"basic tabs example",TabIndicatorProps:{sx:p=>({display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:"calc(100%)",width:"100%",backgroundColor:p.palette.common.black,borderRadius:"100px 100px 0 0",height:3}}),children:e.jsx("span",{})},sx:{minHeight:"auto","& .MuiTabs-flexContainer":{gap:2}},children:[t.map((p,i)=>e.jsx(z,{disableRipple:!0,sx:{padding:0,minHeight:"35px",minWidth:"fit-content","&.Mui-selected":{backgroundColor:"transparent",color:"common.black"}},color:"default",iconPosition:"start",icon:p.icon,label:e.jsx(oe,{variant:"body2",sx:{fontWeight:600},children:p.label}),...N(i)},i)),e.jsx(z,{disableRipple:!0,sx:{padding:0,minHeight:"35px",minWidth:"fit-content","&.Mui-selected":{backgroundColor:"transparent",color:"common.black"}},color:"default",iconPosition:"start",icon:e.jsx(ie,{}),...N(t.length)})]}),e.jsx(q,{sx:{flexDirection:"row",gap:1},children:d})]}),a.map((p,i)=>e.jsx(se,{value:g,index:i,children:p.content},i))]})};Q.__docgenInfo={description:"",methods:[],displayName:"TabBar",props:{tabs:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
    label: string;\r
    icon: JSX.Element;\r
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"JSX.Element",required:!0}}]}}],raw:`{\r
    label: string;\r
    icon: JSX.Element;\r
}[]`},description:""},tabPanels:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
    content: JSX.Element;\r
}`,signature:{properties:[{key:"content",value:{name:"JSX.Element",required:!0}}]}}],raw:`{\r
    content: JSX.Element;\r
}[]`},description:""},value:{required:!1,tsType:{name:"number"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent, newValue: number) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"event"},{type:{name:"number"},name:"newValue"}],return:{name:"void"}}},description:""},tableControls:{required:!1,tsType:{name:"ReactNode"},description:""},defaultTab:{required:!1,tsType:{name:"number"},description:""}}};var w={},L;function ce(){if(L)return w;L=1;var t=X();Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var a=t(G()),n=H();return w.default=(0,a.default)((0,n.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),w}var de=ce();const D=$(de);var T={},W;function ue(){if(W)return T;W=1;var t=X();Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var a=t(G()),n=H();return T.default=(0,a.default)((0,n.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),T}var pe=ue();const me=$(pe),B=f.createContext(void 0),fe=()=>{const t=f.useContext(B);if(!t)throw new Error("useFilterContext must be used within FilterContext.Provider");return t},ge=()=>{const t=f.useContext(B);return{sortSelected:(t==null?void 0:t.sortSelected)??[],filterSelected:(t==null?void 0:t.filterSelected)??[]}},xe=t=>{var n,l;const a=t??[];return[{content:e.jsx(K,{sx:{p:1},children:((n=a[0])==null?void 0:n.content)??e.jsx(e.Fragment,{})})},{content:e.jsxs(q,{sx:{p:1},children:[e.jsx(Se,{}),((l=a[1])==null?void 0:l.content)??e.jsx(e.Fragment,{})]})},...a.slice(2).map(d=>({content:d.content?e.jsx(e.Fragment,{children:d.content}):e.jsx(e.Fragment,{})}))]},be=t=>{var n,l,d,x;const a=t??[];return[{label:((n=a[0])==null?void 0:n.label)||"All Contacts",icon:((l=a[0])==null?void 0:l.icon)??e.jsx(A,{})},{label:((d=a[1])==null?void 0:d.label)||"Patients",icon:((x=a[1])==null?void 0:x.icon)??e.jsx(A,{})},...a.slice(2).map(g=>({label:g.label,icon:g.icon??e.jsx(A,{})}))]},he=({tabs:t,tabPanels:a,selectedFilters:n,selectedSorts:l,openSortMenu:d,reset:x,openDetailSelectSort:g,openDetailSelectFilter:v})=>{const[s,h]=f.useState(n||[]),[u,p]=f.useState(l||[]),[i,R]=f.useState(d||!1),[S,j]=f.useState(x||!1),[r,o]=f.useState(!(s.length>0||u.length>0)),[m,c]=f.useState(g||!1),[y,I]=f.useState(v||{open:!1,index:-1}),V=b=>{h(E=>[...E,{field:b,value:"",filterOption:"contains"}]),I({open:!0,index:s.length}),r&&o(!1)},U={filterSelected:s,setFilterSelected:h,sortSelected:u,setSortSelected:p,setOpenSortMenu:R,openSortMenu:i,handleAddFilter:V,reset:S,setReset:j,openDetailSelectSort:m,openDetailSelectFilter:y,setOpenDetailSelectSort:c,setOpenDetailSelectFilter:I,hide:r,setHide:o,defaultSelectedFilter:n||[]},Y=b=>{p(E=>[...E,{field:b,order:"ascending"}]),c(!0)},F=s.map(b=>b.field),Z=O.filter(b=>!F.includes(b.value));return f.useEffect(()=>{r&&(u.length>0||s.length>0)&&o(!1)},[u.length]),e.jsx(B.Provider,{value:U,children:e.jsx(Q,{tabs:be(t),tabPanels:xe(a),defaultTab:1,tableControls:e.jsxs(e.Fragment,{children:[s.length>0||S?e.jsx(C,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:F.length>0?"info.main":void 0}},onClick:()=>{r?o(!r):(j(!1),o(!0))},children:F.length>0?e.jsx(k,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(D,{})}):e.jsx(D,{})}):e.jsx(P,{availableFilterFields:Z,placeholder:"Filter By...",onChangeFilter:V,buttonContent:e.jsx(C,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:F.length>0?"info.main":void 0}},children:F.length>0?e.jsx(k,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(D,{})}):e.jsx(D,{})})}),u.length===0?e.jsx(P,{availableFilterFields:O,placeholder:"Sort By...",onChangeFilter:Y,onClose:()=>{R(!1)},open:i,buttonContent:e.jsx(C,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:u.length>0?"info.main":void 0}},onClick:()=>{!r&&S&&(j(!1),o(!0))},children:u.length>0?e.jsx(k,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(M,{})}):e.jsx(M,{})})}):e.jsx(C,{color:"default",size:"small",sx:{"& .MuiSvgIcon-root":{color:u.length>0?"info.main":void 0}},onClick:()=>{o(!r),r&&c(!0)},children:u.length>0?e.jsx(k,{sx:{"& .MuiBadge-dot":{bgcolor:"#C85A15"}},variant:"dot",children:e.jsx(M,{})}):e.jsx(M,{})}),e.jsx(C,{color:"default",size:"small",children:e.jsx(me,{})}),e.jsx(le,{})]})})})},ve=[{label:"is",value:"is"},{label:"is not",value:"is not"},{label:"contains",value:"contains"},{label:"does not contain",value:"does not contain"},{label:"starts with",value:"starts with"},{label:"ends with",value:"ends with"},{label:"is empty",value:"is empty"},{label:"is not empty",value:"is not empty"}],O=[{label:"Name",value:"name",icon:e.jsx(te,{})},{label:"Care Team",value:"care team",icon:e.jsx(J,{})},{label:"Share Team",value:"share team",icon:e.jsx(J,{})},{label:"Journeys",value:"journeys",icon:e.jsx(ne,{})},{label:"Tags",value:"tags",icon:e.jsx(re,{})}],Se=()=>{const{filterSelected:t,setFilterSelected:a,sortSelected:n,setSortSelected:l,handleAddFilter:d,reset:x,setReset:g,openDetailSelectSort:v,openDetailSelectFilter:s,hide:h,setOpenDetailSelectSort:u,setOpenDetailSelectFilter:p,defaultSelectedFilter:i}=fe(),R=t.map(r=>r.field),S=O.filter(r=>!R.includes(r.value)),j=i==null?void 0:i.map(r=>({value:r.value,filterOption:r.filterOption}))[0];return console.log(i),e.jsxs(q,{sx:{flexDirection:"row",gap:1,alignItems:"center",width:"100%",justifyContent:"space-between",flexWrap:"wrap",display:h?"none":"flex",pl:1},children:[e.jsxs(q,{sx:{flexDirection:"row",gap:1,flexWrap:"wrap"},children:[n.length>0?e.jsx(_,{appearance:"sort",availableSortFields:O,value:n,onAddSort:r=>{const o=[...n];o.find(m=>m.field===r)||o.push({field:r,order:"ascending"}),l(o)},onChangeSort:(r,o,m)=>{const c=[...n],y=c.findIndex(I=>I.field===m);c[y].field=r},onChangeSortOrder:(r,o)=>{const m=[...n],c=m.findIndex(y=>y.field===r);m[c].order=o,l(m)},onDeleteSort:()=>{l([])},onClose:()=>{u(!1)},open:v}):null,t.map((r,o)=>e.jsx(_,{appearance:"filter",filterOptions:ve,field:r.field,value:j,onSetFilterOption:m=>{const c=[...t];c[o].filterOption=m,a([...c])},onSetFilterValue:m=>{const c=[...t];c[o].value=m,a([...c])},open:o===(s==null?void 0:s.index)&&(s==null?void 0:s.open),onClose:()=>p(void 0)},o)),x||t.length>0||n.length>0?e.jsx(P,{placeholder:"Filter By...",availableFilterFields:S,onChangeFilter:d}):null]}),t.length>0||n.length>0?e.jsx(ae,{onClick:()=>{g(!0),a([]),n.length>0&&l([])}}):null]})};he.__docgenInfo={description:"",methods:[],displayName:"TableTabsFiltersControls",props:{selectedFilters:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; value: string; filterOption: string }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}},{key:"filterOption",value:{name:"string",required:!0}}]}}],raw:"{ field: string; value: string; filterOption: string }[]"},description:""},selectedSorts:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ field: string; order: 'ascending' | 'descending' }",signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:"'ascending' | 'descending'",elements:[{name:"literal",value:"'ascending'"},{name:"literal",value:"'descending'"}],required:!0}}]}}],raw:"{ field: string; order: 'ascending' | 'descending' }[]"},description:""},openSortMenu:{required:!1,tsType:{name:"boolean"},description:""},tabs:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; icon?: React.ReactElement }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"ReactReactElement",raw:"React.ReactElement",required:!1}}]}}],raw:"{ label: string; icon?: React.ReactElement }[]"},description:""},tabPanels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ content: React.ReactNode }",signature:{properties:[{key:"content",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}}]}}],raw:"{ content: React.ReactNode }[]"},description:""},reset:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectSort:{required:!1,tsType:{name:"boolean"},description:""},openDetailSelectFilter:{required:!1,tsType:{name:"signature",type:"object",raw:`{\r
    open: boolean,\r
    index: number\r
}`,signature:{properties:[{key:"open",value:{name:"boolean",required:!0}},{key:"index",value:{name:"number",required:!0}}]}},description:""}}};export{D as F,he as T,Q as a,fe as u};
